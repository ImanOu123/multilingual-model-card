{"title": "Toward Closed-loop Additive Manufacturing: Paradigm Shift in Fabrication, Inspection, and Repair", "authors": "Manpreet Singh; Fujun Ruan; Albert Xu; Yuchen Wu; Archit Rungta; Luyuan Wang; Kevin Song; Howie Choset; Lu Li", "pub_date": "", "abstract": "Increased usage of additive manufacturing (AM) in various industries has solidified its role as an advanced manufacturing technique. However, there is an inherent lack of reliability in AM processes, particularly common in extrusion or deposition-based methods due to the stochastic nature of material deposition. This necessitates an intelligent manufacturing solution to address the drawbacks of AM. Thus, we propose a novel layer-wise approach toward closed-loop AM, which is capable of in-situ monitoring and repairing geometric defects. In this paper, we present a system that uses a robotic AM experimental platform that mimics a conventional open-loop fabrication setup, which we augment into a closed-loop system using two add-ons: in-situ inspection subsystem and online process correction subsystem. The in-situ inspection subsystem collects 3D point cloud scans and compares them against a reference CAD model, categorizing geometric deviations as positive or negative defects. Then the subsequent online process correction subsystem uses a re-plan and/or repair strategy to address the positive and/or negative defects, respectively. To evaluate this idea, we conducted three experiments on parts with manually induced defects to investigate the system's ability to repair those parts, thereby reducing defects, improving part accuracy, and enhancing mechanical properties. Comparing the defective and repaired parts, we observe a reduction in defect percent by volume from 10.7% to 1.3%, an improvement in geometric tolerance from 3.86% error to 0.08% error, and an increase in the part's breaking load from 4.77 kN to 6.31 kN. These experiments prove that our layer-wise closedloop additive manufacturing approach improves the quality, tolerance, and reliability of plastic 3D printed parts, with the potential to extend to other extrusion/deposition-based AM processes, or even subtractive manufacturing and hybrid manufacturing methods.Manufacturing is a fundamental aspect of human ingenuity and has seen significant advancements over recent years, particularly in the Additive Manufacturing (AM) area. Typical AM processes involve manufacturing parts by building Funding for this project is initially through the Boeing Strategical University Program titled \"Automation Software for Additive Manufacturing\", and also in part from the Manufacturing Futures Institute, Carnegie Mellon University, through a grant from the Richard King Mellon Foundation.", "sections": [{"heading": "GCode Fabr i cat i on I n spect i on", "text": "Ou t pu t The system is developed using a robotic extruder positioning system augmented with a custom-designed sensor add-on. b) We propose a layer-wise inspection routine that delivers a significant reduction in part failures while keeping the cost low. Note that the above plot is a conceptual relationship. c) The layer-wise closed-loop AM system inspects the part after the completion of each layer and corrects any defects that are detected during the inspection. d) From our experiments, we observe that our system achieves a 10-fold reduction in defects, reaching 1.3% from 10.7% in defect percent by volume after the repair. * Layer-wise and real-time inspection methods are also equipped with closed-loop corrections.\nthem layer-by-layer and have been widely used in various industries for rapid prototyping or even to fabricate functional parts [1]. However, current AM processes are prone to stochastic failures and lack reliability [2], which significantly limits their use in engineering and critical applications. Generally, parts manufactured using deposition-based AM methods are considered mechanically weak due to inconsistency in material deposition [3]. These deposition inconsistencies can also lead to deviation of the part from the intended design, causing geometric defects. Therefore, it is crucial for an AM system to maintain accurate material deposition, which ensures the desired process reliability and build quality. Furthermore, deposition errors such as under-deposition will lead to mechanical failure, while overdeposition may pose a risk during manufacturing, as collision with a significant geometric defect can damage the equipment.\nCurrently, a majority of AM methods rely upon a preprogrammed open-loop workflow and adhere to a set path without any sensory feedback to adjust the motion or process parameters. While this open-loop workflow is fast and costeffective, it often results in lower product quality and questionable accuracy [2]. Recent studies address quality control of the parts made using AM by coupling the fabrication process with post-inspection methods, that utilize additional equipment such as coordinate measuring machines (CMM) [4], [5], [6], [7], computer vision [8], [9], or use expensive and bulky 3D scanners [10]. Although the post-inspection methods provide significant benefits toward after-build quality assessment, they are time-consuming and cannot reduce fabrication failures and defects due to the nature of postinspection.\nIn recent years, researchers have started to explore the concept of process monitoring and process control for AM processes. For process monitoring, Hossain and Taheri [11] developed a process monitoring approach by applying mechanical load to the workpiece and detecting acoustic waves emitted by internal defects. Ye et al. [12] and Charalampous et al. [13] developed in-situ inspection and defect monitoring approaches by using machine learning and computer vision. On the other hand, Liu et al. [14] developed a closedloop control method on machine parameters based on image analysis, but their approach relies on tuned PID controller parameters limiting its generalizability to even different layers of the same part. Rebaioli et al. [15] also proposed a closed-loop parameter tuning and re-slicing system to ensure the printed part reached a width and height within the desired tolerances, but their technique relies on the heuristics of re-slicing software and cannot handle infill areas. These aforementioned monitoring and control strategies either lack approaches to address the detected defects during fabrication or are limited to control strategies that lack generalizability as they are specifically tuned for selective process parameters. As shown in Fig. 1b, both the approaches mentioned above, post-inspection and over-inspection either fail to prevent fabrication failures or significantly increase the inspection cost. Therefore, we propose a middle-ground solution: a layer-wise inspection and repair framework that is adequate to identify and correct defects during fabrication, while avoiding a significant increase in the cost due to inspection.\nToward this goal, we present a layer-wise closed-loop AM framework to enable the manufacturing of complex parts with improved build quality and process reliability. We propose a novel Sense, Plan, Act workflow for AM to facilitate in-situ monitoring and intelligent repair during the layerwise fabrication process, as shown in Fig. 1c. The proposed framework identifies defects during fabrication, formulates plans to amend the defects, and executes the corrective strategies. In this paper, we target the geometric defects that occur during the Fused Filament Fabrication (FFF) process that can be caused by under or over-deposition. To evaluate the efficacy of this approach, we experimented with a robotic 3D printing setup with a custom profilometer to benchmark the fabrication, inspection, and correction framework (Fig. 2) that identifies defects during fabrication and allows a sensorbased AM repairing process. The results of our experiments  confirm our framework's ability to handle geometric defects, improve tolerance, and increase the tensile strength of the manufactured parts. The Sense, Plan, Act principle introduced in this study holds immense potential not only for conventional AM methods like FFF, but also for modern AM techniques such as Wire Arc Additive Manufacturing (WAAM), Aerosol Jet (AJ), and even subtractive and hybrid manufacturing methods.", "publication_ref": ["b0", "b1", "b2", "b1", "b3", "b4", "b5", "b6", "b7", "b8", "b9", "b10", "b11", "b12", "b13", "b14"], "figure_ref": ["fig_0", "fig_0", "fig_1"], "table_ref": []}, {"heading": "II. SYSTEM OVERVIEW", "text": "The proposed closed-loop additive manufacturing (AM) system consists of three major subsystems: open-loop material extrusion (fabrication) subsystem, in-situ inspection subsystem, and online process correction subsystem, shown in Fig. 2. Together they act sequentially to detect geometric defects in the part during fabrication, formulate adjustment plans, and execute them to correct those defects. The information and process flow is illustrated in Fig. 2. In this section, we provide a brief introduction to each subsystem's specific role in the closed-loop AM process.", "publication_ref": [], "figure_ref": ["fig_1", "fig_1"], "table_ref": []}, {"heading": "A. Material Extrusion (Fabrication) Subsystem", "text": "The material extrusion (fabrication) subsystem performs fabrication using a layer-wise FFF process, similar to a conventional 3D printer. The hardware components in this subsystem include a filament extruder, an extruder positioning system, and additional supporting hardware such as a heated print bed, an extruder heater and cooler, and a 3D printing control board. To initiate the fabrication process, the material extrusion subsystem is given G-code as input, a standardized file format that encodes the motion and control instructions for manufacturing equipment. The fabrication subsystem acts as a test bed for the development of intelligent inspection and repair.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "B. In-Situ Inspection Subsystem", "text": "The inspection subsystem performs layer-by-layer 3D scanning to detect geometric defects during the fabrica- ", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Negative Defect", "text": "Repair tion process. Compared with continuous monitoring, we argue that our lower inspection frequency is sufficient to monitor the process for enabling corrective adjustments in downstream processes. For inspection, we have developed a custom-designed laser profilometer based on previous work from our group [16]. The sensor is collocated near the extruder nozzle and is driven by the positioning system to obtain the 3D scans. Additionally, the 3D scan of the entire printed part can be obtained by accumulating the consecutive layer-wise scans, providing an internal part representation that cannot be generated by conventional post-inspection approaches. During the layer-wise inspection, the generated scans from the profilometer are compared against the reference CAD model to detect and classify any geometric defects. The inspection subsystem classifies the detected geometric defects into two categories: positive defect or negative defect, illustrated in Table I. We define positive defects as over-depositions that lie above the printing z height. Such defects may obstruct the path of the extruder nozzle and also affect the geometric tolerances of the part. On the other hand, we define negative defects as under-depositions that cause the part surface to lie below the expected z height.\nNegative defects are the under-extruded voids that affect the bonding strength between layers, reducing the strength and integrity of the resultant part. The in-situ inspection subsystem we propose enables the identification of defects during fabrication, paving the way for our online process correction subsystem to correct those defects.", "publication_ref": ["b15"], "figure_ref": [], "table_ref": ["tab_1"]}, {"heading": "C. Online Process Correction Subsystem", "text": "The online process correction subsystem rectifies defects detected by the in-situ inspection subsystem via adaptive correction of the fabrication process. In this paper, we introduce two correction strategies, re-plan and repair, to address the defects, illustrated in Table I. The re-plan strategy is used when the system detects a positive defect blocking the fabrication tool path. The tool path is re-planned on the fly to avoid the obstructing part and the filament extrusion is adjusted so the fabrication progresses as desired. On the other hand, the repair strategy is used when the system detects a negative defect involving a lack of material. The system corrects the under-extruded void by interrupting the fabrication process to fill the void. The part is then re-inspected to ensure the defect has been corrected before the system resumes fabrication; the repair process is repeated until no defects remain. The online process correction subsystem enables the correction of positive and negative defects and ensures the quality of each layer thereby preventing any cascaded effects of defects.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_1"]}, {"heading": "III. IN-SITU INSPECTION SUBSYSTEM", "text": "The in-situ inspection subsystem enables the system to detect and classify geometric defects after completing each layer during the fabrication process. Toward the layer-wise inspection, we have developed a reference design for a sensor add-on that is used to stress-test the developed algorithms for defect detection during AM inspection.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "A. Sensor Add-on for AM Inspection", "text": "In previous work, our group proposed a compact miniature sensor for 3D scene reconstruction [16]. For our AM application, we adapt the same design philosophy to create a custom lightweight laser profilometer that achieves submillimeter 3D measurement accuracy. The sensor consists of a laser line projector and a monocular color camera, which measures 3D information by triangulating laser points from the 2D image. The sensor used in this paper has a form factor of 80 x 14.5 x 52mm, allowing it to fit in the limited space next to the extrusion nozzle, and is much more compact compared to commercial solutions such as RealSense D435 (Intel, Santa Clara, CA, USA) and In-Sight 3D-L4000 (COGNEX, Natick, MA, USA). In addition, the sensor design structure is generalizable to other applications with different design requirements. The key components in our sensor add-on can be replaced by cameras with different resolutions or laser profilers with varying projection patterns. Researchers can assemble their own versions based on their minimum feature size \u2113 min (eq. 1).\nAs our profilometer measures depth only along the projected laser line, we must stitch the measurements across time to reconstruct a 3D point cloud of the printed part, illustrated in Fig. 3. We mount the sensor on a robot arm", "publication_ref": ["b15"], "figure_ref": [], "table_ref": []}, {"heading": "Camera Laser Module Sensor Pose", "text": "", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Scan Trajectory", "text": "Laser Line Scan Fig. 3: Illustration of a robot arm scanning an object using our custom profilometer, allowing us to reconstruct a 3D point cloud by concatenating the laser line scans along the linear coverage scan. and perform a linear coverage scan between each layer. The robot end effector's pose at each time step is then used to transform each line scan into a fixed coordinate system of the robot's base frame, and the scans are concatenated into a single 3D point cloud of the manufactured part.\n\u2113 min = w * D f e * n p(1)\nw camera sensor width D distance to object f e effective focal length n p camera resolution (no. of pixels)", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "B. In-Situ AM Defect Detection", "text": "To ensure accurate identification and localization of defects, we compare the layer-wise 3D scans against a reference CAD model to check for defects. Procedure 1 detects these defects and categorizes them with the following 4 steps. 0) Initialization: To initialize our procedure, we first obtain a dense point cloud C R by performing volumetric sampling on a reference 3D CAD model.\n1) Preprocessing: After printing layer k, a scanned point cloud C k S0 is obtained from the custom profilometer. The scanned point cloud is filtered by using a manually defined crop box and then with statistical outlier removal to obtain C k S . Also, the reference cloud C k R0 for layer k is extracted from C R using z k , the known z-level of layer k.\n2) Registration: After preprocessing, we perform point cloud registration between C k S and C k R0 . The workpiece transformation with respect to the robot base is used as an initial alignment, which is further refined by the iterative closest point algorithm (ICP) [17]. The obtained transformation is used to transform C k R0 onto C k S and get C k R . 3) Defect Detection: We calculate the difference of point clouds D k by taking every point in C k S not near some point in C k R . The difference is computed efficiently using a KD  \n(k, z k , C k S0 ) \u25b7 1) Preprocessing 2: C k R0 \u2190 REFERENCECLOUD(C R , k, z k ) 3: C k S \u2190 FILTERSCANNEDCLOUD(z k , C k S0 ) \u25b7 2) Registration 4:\n(R 0 , t 0 ) \u2190 Initial workpiece transform 5:\n(R k , t k ) \u2190 ICP(C k R0 , C k S )\nwith initial guess (R 0 , t 0 )\n6:\nC k R \u2190 R k C k R0 + t k // Apply transformation to C k R \u25b7 3) Defect Detection // Define d C k R to measure distance to C k R . KD-tree is used to compute efficiently. 7: Let d C k R (x) = min x R \u2208C k R \u2225x \u2212 x R \u2225 8: D k P \u2190 {[x, y, z] \u2208 C k S : z \u2265 z k , d C k R ([x, y, z]) \u2265 \u03b5} 9: D k N \u2190 {[x, y, z] \u2208 C k S : z < z k , d C k R ([x, y, z]) \u2265 \u03b5} 10: return D k P , D k N 11: end procedure Tree on C k R , segmenting each point x S \u2208 C k S with D k = x S \u2208 C k S min x R \u2208C k R \u2225x S \u2212 x R \u2225 \u2265 \u03b5\nwhere \u03b5 is a tunable threshold parameter. We let \u03b5 be half the layer height so that geometries outside a 1-layer band are flagged as defects by our system. The detected defects in D k are further categorized into positive (D k P ) and negative (D k N ) defects based on the layer z-level z k . Defect points with z \u2265 z k are positive defects, while z < z k are negative defects.", "publication_ref": ["b16"], "figure_ref": [], "table_ref": []}, {"heading": "IV. ONLINE PROCESS CORRECTION SUBSYSTEM", "text": "The online process correction subsystem amends geometric defects encountered during fabrication by associating each defect type with a corresponding correction strategy. In this paper, we propose two corrective strategies. Positive defects are handled by the re-plan strategy which modifies the next print layer to avoid the defects, while negative defects are handled by the repair strategy which takes priority from the fabrication process to take action between layers.\nTo avoid fabrication errors due to positive defects, the replan strategy modifies the extrusion and motion trajectory to prevent any collisions or further over-extrusion. When a positive defect is detected in a layer, the associated defect point cloud is projected from 3D onto the 2D print surface,", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "2D Pr int Sur face", "text": "Or iginal pr int tool path Re-planned tool path 1)\n2)", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "4)", "text": "2D pr ojection of tool path and defect cloud Tool path m odification 3) Fig. 5: Illustration of Re-planning strategy for handling a positive defect. 1) A positive defect, colored according to z height, intersects the extrusion tool path drawn in orange. 2) The trajectory and intersecting 3D defect point cloud are projected onto the 2D print surface, where we compute the alpha shape of the defect points, shown in red.\n3) The extrusion tool path is modified by removing the line segments intersecting the defect and joining them with skip paths, shown in black dashed lines. 4) Finally, the re-planned tool paths are lifted back to 3D, with the dashed skip paths becoming z-lifted travel paths. which we use to compute an alpha shape [18]. This gives us a 2D polygon representation of the defect, illustrated in red in Fig. 5-2. The next layer's planned trajectory coordinates are likewise projected from 3D onto the 2D part surface to check for potential collisions. If a trajectory intersects with a defect polygon, the path is re-planned by splitting the trajectory across the defect polygon, shown in Fig. 5-3. The trajectory segments intersecting the defect polygons are given a z-hop (vertical lift) to pass above the defects, and extrusion is paused during the lifted motion to ensure no additional material is added to the defect.\nThe repair strategy addresses negative defects or underextruded voids that appear in the printed part. When a negative defect is detected, the fabrication process is paused and the negative defect is filled to ensure that the next layer remains completely flat, minimizing the chances of further errors. Similar to the re-plan strategy, we project the defect point cloud onto the print surface and compute an alpha shape [18] to obtain a planar polygon representation of the negative defect, shown in Fig. 6-2. We offset the polygon inwards by the extruder nozzle radius and use that as a tool path to fill the boundary of the defective void. Then the interior tool path is calculated by following an infill pattern over the polygon representation of the defect (Fig. 6-3), and the target extrusion volume and extrusion rate are calculated using the repair path length and defect volume. After the system executes the repair tool path, we perform an additional 3D scan and repeat the repair until there are no more negative defects. Then fabrication resumes on the next layer. 4)\nFig. 6: Illustration of Repair strategy for handling a negative defect. 1) A negative defect, or under-extruded void is detected.\n2) The corresponding 3D scanned point cloud is projected into 2D and we compute the alpha shape (red) of the defect points. 3) A infill path is generated by offsetting the boundary of the polygon and filling the interior with an infill pattern, such as zig-zag. 4) Lastly, the infill path is projected from 2D to 3D at the defect height to be executed by the extrusion system.", "publication_ref": ["b17", "b17"], "figure_ref": ["fig_1", "fig_1"], "table_ref": []}, {"heading": "V. EXPERIMENTS AND RESULTS", "text": "We evaluate the efficacy of our closed-loop AM system through three experiments to benchmark the performance using defect percentage, geometric tolerance, and tensile strength. In our experiments, we compare three categories of parts made by our system: unaltered parts, defective parts i.e. parts with induced manual defects, and repaired parts i.e. parts with defects repaired by applying our method. In this section, we evaluate and measure our system's ability to correct the induced defects and restore the part's quality and reliability.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "A. Experimental Test Bed", "text": "Our experiments are performed with a 6 DoF UR5e robot arm (Universal Robots, Odense, Denmark) as the positioning system and Typhoon 2.85mm filament extruder (Dyze Design, LeMoyne, QC, Canada). The utilization of a robot arm as a positioning system allows the developed system to be scalable as a test bed for the development and testing of AM systems ranging from conventional FFF 3D printing to specialized processes such as Wire Arc Additive Manufacturing (WAAM) [19], Aerosol Jet [20], or non-planar 3D printing systems [21] that require additional degrees of freedom. Additionally, the extended degrees of freedom allows our system to inspect and repair working parts from various angles and complex topologies. The Typhoon 2.85mm filament extruder is coupled with a liquid cooler, and a 235*235mm heat bed to heat up to 60\u00b0C. We have used 2.85mm diameter PLA filament that is heated to 215\u00b0C during extrusion. It is important to note that the choice of a larger 2.5mm nozzle diameter amplifies the defects and highlights the need for prompt correction. We use MKS Gen L v1.0 board (Makerbase, Guangzhou, China), an opensource 3D printing control board to control the extrusion firmware during fabrication. The use of standard 3D printing components allows our system to be compatible with a wide range of 3D printers and a wide variety of commercial offthe-shelf components, such as print heads, extruder motors, heat beds, etc. Our inspection subsystem utilizes a custom sensory add-on (Section III-A) to inspect during the layerwise fabrication process. The developed sensor consists of a 1/2.3\" Ximea sensor (Ximea, M\u00fcnster, Germany), a 2.1mm lens, and a 3.3V 3D-Scan Redline laser (Redline 3D, Cape Town, South Africa). The sensor has a working distance of 230mm, and a camera resolution of 2448x1840 pixels, giving us an object resolution of \u2113 min =0.27mm/pixel. The robot and the sensor are connected to a laptop computer with an Intel Core i7 CPU and an NVIDIA RTX 3080 with 8 GB GPU memory.", "publication_ref": ["b18", "b19", "b20"], "figure_ref": [], "table_ref": []}, {"heading": "B. Sensor Calibration", "text": "A common drawback of custom sensors is that researchers have to carefully calibrate them to get accurate data. Therefore, we have created an automatic calibration toolbox to facilitate the calibration process, called the Automatic Calibration Toolbox for Custom Laser Profilometer (ACT-CLP). The ACT-CLP is capable of generating calibration motion for a robot arm to autonomously take calibration photo samples with the sensor mounted on the arm, without any human intervention. The ACT-CLP performs three calibrations needed for the sensor, namely, camera model (intrinsic) calibration, hand-eye (extrinsic) calibration, and laser-plane (extrinsic) calibration. The ACT-CLP takes the number of photo samples as a parameter input and generates the motion plan for the robot arm based on a predefined motion template.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "C. Results and Observations", "text": "The experiment results directly compare our proposed closed-loop AM system against the open-loop approach. Defective parts are created by manually introducing positive or negative defects during open-loop fabrication, and the repaired parts are produced by applying our closed-loop method to fix the manually introduced defects. In certain  1) Defect Reduction Experiment: This experiment evaluates our system's ability to reduce defects in a complex and representative industrial part, a gear with a diameter of 100mm and 10mm in height. In this experiment, underextruded voids are manually introduced in a layer by pausing the extrusion during fabrication as shown in Fig. 8a. To quantify the negative defects, we use defect percent by volume, which is calculated using the generated voxels in the defect detection pipeline. Thus, the efficacy of the repair strategy (Section IV) is measured by comparing the defect volume calculated from the scans obtained before and after the repair. Across N = 5 samples, we observe a mean reduction in defect volume from 10.7% to 1.3% Moreover, the mean defect percentage of the repaired parts is comparable to the 0.6% in the unaltered parts, as seen in Fig. 8c.\n2) Geometric Tolerance Experiment: This experiment evaluates our system's ability to address positive defects. During the fabrication of a cuboidal wall of dimensions (100mm x 10mm x 15mm), an obstacle of size up to (20mm x 10mm x 4mm) is placed arbitrarily, blocking the extrusion path as shown in Fig. 9a. The system uses the re-plan strategy (Section IV) to minimize geometric deviations in the part as compared to the unaltered control group. To evaluate the part's geometric tolerance, the width of the part is measured along 5 equidistant points along the length and is compared for the unaltered, defective, and repaired parts. Taking the unaltered parts as a control group, we observe a reduction in the mean width measurement error from 3.86% in the defective parts to 0.08% in the repaired parts (N = 5), shown in Fig. 9d. However, it is important to note that while our method succeeds to reduce the mean error of the repaired part, it fails to improve the consistency in width measurements.\n3) Tensile Strength Experiment: This experiment evaluates our hypothesis that repairing under-extruded voids improves a part's strength. The breaking load is compared for three categories of parts: unaltered, defective, and repaired, shown in Fig. 10a. Five samples of each category are tested using an Instron extensometer, and we observe (Fig. 10d) that the average breaking load of the repaired parts 6.31kN is higher than the defective parts by 32.2%. It is interesting to note an outlier sample in the unaltered category has a breaking load of 7.03kN, demonstrating the inherent inconsistency of parts produced by AM methods and justifying the need for closed-loop AM.", "publication_ref": [], "figure_ref": ["fig_5", "fig_5", "fig_6", "fig_6", "fig_0", "fig_0"], "table_ref": []}, {"heading": "VI. CONCLUSION AND DISCUSSION", "text": "This paper presented a closed-loop AM system that aims to enhance the quality, precision, and reliability of AM processes. The experiments conducted in this study have shown the effectiveness of the proposed system in handling geometric defects, improving geometric tolerance, and improving mechanical strength. We argue that this proposed closedloop AM framework can improve the quality and reliability of additive manufacturing processes and has potentially significant implications for various industries. This study also highlights the crucial role of layer-wise monitoring and control capabilities, with further emphasis on the importance of sensing and feedback in closed-loop AM systems. We believe this work is an initial step toward the development of a new generation of intelligent manufacturing systems that fabricate, inspect, and even repair in a human-like fashion. Moreover, we also tested the scalability of our method to a different application of repairing pre-fabricated parts. As shown in Fig. 11, those pre-fabricated parts can be arbitrarily placed inside the print bed workspace and our system is not only able to locate and register the part but also able to repair an unknown crack using our closed-loop strategy.\nDespite the promising results presented in this paper, the proposed closed-loop AM system still has certain limitations that require further research and development. Due to the current design of the defect detection process by comparison with CAD, the system is limited to 3D printed parts with only 100% infill and also it is unable to handle other defects outside of the part's intended volume, which may lead to poor process ACC uracy at certain edge cases. Additionally, the proposed system is initially focused on geometric defects and has not been fully optimized for a wide range of 3D printing applications, such as metal, ceramic, and biomaterial printing. Those applications may require additional sensing modalities to detect and repair abnormalities that are not geometric defects, such as temperature-induced material inconsistency that only exhibits a major color space signature in contrast to geometric deviations. Therefore, additional", "publication_ref": [], "figure_ref": ["fig_0"], "table_ref": []}, {"heading": "Void to be Repaired", "text": "Arbitrarily Placed 30mm\nPrinting Nozzle Inspection Sensor Scanned Point Cloud Fig. 11: Repair of a pre-fabricated part. A part with negative defects is arbitrarily placed on the print bed. Using the inspection techniques, the system is able to localize the part and then identify the defects by comparing the scan with the reference CAD. Then, the system uses the repair strategy to fill the void defects.\nwork is needed to address these limitations and ultimately build toward a truly operational closed-loop AM system, making AM a robust and reliable solution for various engineering applications.", "publication_ref": [], "figure_ref": ["fig_0"], "table_ref": []}, {"heading": "VII. FUTURE WORKS", "text": "An area for future improvement in our corrective framework is addressing the other defects such as over-extruded defects outside of the part's volume. One solution could be incorporating a subtractive manufacturing end-effector thereby making this a hybrid manufacturing setup, to effectively remove any complex defects encountered during the fabrication process.\nIn some niche applications, it might be pertinent to use real-time inspection instead of layer-wise inspection for the closed-loop AM framework to ensure greater precision and accuracy. This would involve incorporating real-time feedback from the profilometer and other sensors to continuously adjust the extrusion and motion parameters during the printing process. Additionally, one would need to develop advanced algorithms for real-time monitoring and control to predict and correct defects in the print.\nFinally, an interesting research direction is to optimize the proposed framework for a wide range of 3D printing applications such as metal, ceramic and flexible printing. Our system has already demonstrated its adaptability in the WAAM system from Lincoln Electric. As the next step, we would also like to make our research open-source, to enable and empower the robotic AM community.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "ACKNOWLEDGMENT", "text": "We would like to thank Jiarui Chang, Yufeng Ren, and Shiyang Tian for their assistance during the early development of the system. And thanks to Michelle Crivella and Dr. Anthony W. Baker from the Boeing Company, Dr. Gary Fedder, Dr. Sandra DeVincent Wolf, and Rod Heiple from MFI for their guidance and support during this research.", "publication_ref": [], "figure_ref": [], "table_ref": []}], "references": [{"ref_id": "b0", "title": "A review of additive manufacturing", "journal": "", "year": "2012", "authors": "K V Wong; A Hernandez"}, {"ref_id": "b1", "title": "Additive manufacturing (3d printing): A review of materials, methods, applications and challenges", "journal": "Composites Part B: Engineering", "year": "2018", "authors": "T D Ngo; A Kashani; G Imbalzano; K T Nguyen; D Hui"}, {"ref_id": "b2", "title": "In-situ print characterization and defect monitoring of 3d printing via conductive filament and ohm's law", "journal": "Procedia Manufacturing", "year": "2021", "authors": "H Parker; S Psulkowski; P Tran; T Dickens"}, {"ref_id": "b3", "title": "Towards an intelligent approach for cmm inspection planning of prismatic parts", "journal": "Measurement", "year": "2016", "authors": "S M Stojadinovic; V D Majstorovic; N M Durakbasa; T V Sibalija"}, {"ref_id": "b4", "title": "Adaptive sampling method for inspection planning on cmm for free-form surfaces", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2013", "authors": "M Yu; Y Zhang; Y Li; D Zhang"}, {"ref_id": "b5", "title": "A new algorithm for cad-directed cmm dimensional inspection", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2000", "authors": "Y.-J Lin; P Murugappan"}, {"ref_id": "b6", "title": "Integrated inpection of sculptured surface products using machine vision and a coordinate measuring machine", "journal": "", "year": "1996", "authors": "A Zarifi"}, {"ref_id": "b7", "title": "Computer vision methods for nondestructive quality assessment in additive manufacturing", "journal": "Springer", "year": "2020", "authors": "K Okarma; J Fastowicz"}, {"ref_id": "b8", "title": "Computer vision based quality control for additive manufacturing parts", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2022", "authors": "R Nascimento; I Martins; T A Dutra; L Moreira"}, {"ref_id": "b9", "title": "An automated inspection system", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2002", "authors": "F Prieto; T Redarce; R Lepage; P Boulanger"}, {"ref_id": "b10", "title": "In situ process monitoring for additive manufacturing through acoustic techniques", "journal": "Journal of Materials Engineering and Performance", "year": "2020", "authors": "M S Hossain; H Taheri"}, {"ref_id": "b11", "title": "In-situ point cloud fusion for layer-wise monitoring of additive manufacturing", "journal": "Journal of Manufacturing Systems", "year": "2021", "authors": "Z Ye; C Liu; W Tian; C Kan"}, {"ref_id": "b12", "title": "Vision-based real-time monitoring of extrusion additive manufacturing processes for automatic manufacturing error detection", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2021", "authors": "P Charalampous; I Kostavelis; C Kopsacheilis; D Tzovaras"}, {"ref_id": "b13", "title": "Image analysisbased closed loop quality control for additive manufacturing with fused filament fabrication", "journal": "Journal of Manufacturing Systems", "year": "2019", "authors": "C Liu; A C C Law; D Roberson; Z J Kong"}, {"ref_id": "b14", "title": "Process parameters tuning and online re-slicing for robotized additive manufacturing of big plastic objects", "journal": "Robotics and Computer-Integrated Manufacturing", "year": "2019", "authors": "L Rebaioli; P Magnoni; I Fassi; N Pedrocchi; L M Tosatti"}, {"ref_id": "b15", "title": "A compact and infrastructure-free confined space sensor for 3d scanning and slam", "journal": "IEEE", "year": "2020", "authors": "D Cheng; H Shi; M Schwerin; M Crivella; L Li; H Choset"}, {"ref_id": "b16", "title": "Method for registration of 3-d shapes", "journal": "", "year": "1992", "authors": "P J Besl; N D Mckay"}, {"ref_id": "b17", "title": "On the shape of a set of points in the plane", "journal": "IEEE Transactions on Information Theory", "year": "1983", "authors": "H Edelsbrunner; D Kirkpatrick; R Seidel"}, {"ref_id": "b18", "title": "A review on wire arc additive manufacturing: Processing parameters, defects, quality improvement and recent advances", "journal": "Materials Today Communications", "year": "2022", "authors": "B Tomar; S Shiva; T Nath"}, {"ref_id": "b19", "title": "A review of aerosol jet printing-a non-traditional hybrid process for micromanufacturing", "journal": "The International Journal of Advanced Manufacturing Technology", "year": "2019", "authors": "N Wilkinson; M Smith; R Kay; R Harris"}, {"ref_id": "b20", "title": "Research and implementation of a non-supporting 3d printing method based on 5-axis dynamic slice algorithm", "journal": "Robotics and Computer-Integrated Manufacturing", "year": "2019", "authors": "M Wang; H Zhang; Q Hu; D Liu; H Lammer"}], "figures": [{"figure_label": "1", "figure_type": "figure", "figure_id": "fig_0", "figure_caption": "Fig. 1 :1Fig. 1: An overview of the proposed closed-loop AM system. a)The system is developed using a robotic extruder positioning system augmented with a custom-designed sensor add-on. b) We propose a layer-wise inspection routine that delivers a significant reduction in part failures while keeping the cost low. Note that the above plot is a conceptual relationship. c) The layer-wise closed-loop AM system inspects the part after the completion of each layer and corrects any defects that are detected during the inspection. d) From our experiments, we observe that our system achieves a 10-fold reduction in defects, reaching 1.3% from 10.7% in defect percent by volume after the repair. * Layer-wise and real-time inspection methods are also equipped with closed-loop corrections.", "figure_data": ""}, {"figure_label": "2", "figure_type": "figure", "figure_id": "fig_1", "figure_caption": "Fig. 2 :2Fig.2: Overview of the closed-loop AM system, comprised of three subsystems. Fabrication: Processes input G-code and sends the control commands to the positioning system and filament extruder. Inspection: Scans the manufactured part using a sensor add-on and then detects geometric defects in the 3D scan. Correction: Generates the corrective actions based on the defect type and modifies control commands in the instruction queue to address those defects.", "figure_data": ""}, {"figure_label": "41", "figure_type": "figure", "figure_id": "fig_2", "figure_caption": "Fig. 4 :Procedure 141Fig. 4: The defect detection pipeline compares the scanned point cloud C k S of layer k with the reference CAD CR sliced at C k R to detect positive and negative defects. The illustration shows the detection of two types of defects: negative defect (under-extruded void) and positive defect (3 arbitrarily placed cuboids).", "figure_data": ""}, {"figure_label": "27", "figure_type": "figure", "figure_id": "fig_4", "figure_caption": "? 2 .Fig. 7 :27Fig. 7: Experimental closed-loop AM test bed used in this research, where core components and supporting hardware illustrated.", "figure_data": ""}, {"figure_label": "8", "figure_type": "figure", "figure_id": "fig_5", "figure_caption": "Fig. 8 :8Fig.8: Experiment to evaluate the defect reduction percentage of the repair strategy. a) We manually introduce negative defects by pausing the extrusion. b) A sample from the experiment showing the qualitative result of the strategy before and after the repair is performed. c) The defect percent by volume is compared before and after the repair across N = 5 samples. We observe a significant reduction in defect volume from 10.7% to 1.3% with a p-value of 1.4 \u00d7 10 \u22125 .", "figure_data": ""}, {"figure_label": "9", "figure_type": "figure", "figure_id": "fig_6", "figure_caption": "Fig. 9 :9Fig.9: Experiment to evaluate the closed-loop AM system by benchmarking the geometric tolerances of the part. a) We arbitrarily place an obstacle during the fabrication, thereby adding a positive defect. b) If the positive defect is not addressed by an AM system, it will cause a collision with the extruder and may lead to the failure of the print. We use the re-plan strategy to modify the tool path by going over the obstacle and pausing the extrusion. c) If the positive defect is not addressed, the subsequent layers get compressed and result in a deviation in part width. d) We compare the part's measured width for the defective and repaired parts against the unaltered control group. The results show that our method significantly improved the geometric tolerance after repair, with a p-value of 3.2 \u00d7 10 \u22124 .", "figure_data": ""}, {"figure_label": "10", "figure_type": "figure", "figure_id": "fig_7", "figure_caption": "Fig. 10 :10Fig.10: Experiment to evaluate the tensile strength improvement of the repair strategy. a) This experiment contains three types of parts: defective parts with a void, repaired parts with a close-loop strategy applied, and unaltered parts. b) The setup of this experiment utilizes an Instron Tensile Testing Equipment and the breaking load for the parts is recorded. c) Illustration of the defective sample with an under-extruded middle layer while the repaired part has that negative defect repaired. d) The breaking load is compared for the defective, repaired, and unaltered parts across 5 samples and we observe a significant increase in the mean breaking load from 4.77kN to 6.31kN with a p-value of 1.9 \u00d7 10 \u22124 for the defective and repaired parts.", "figure_data": ""}, {"figure_label": "I", "figure_type": "table", "figure_id": "tab_1", "figure_caption": "Defect Types and Correction Strategies.", "figure_data": "Defect TypeDefect ExampleCorrection StrategyRe-planPositiveDefectPositive DefectPositive Defect"}], "formulas": [{"formula_id": "formula_0", "formula_text": "\u2113 min = w * D f e * n p(1)", "formula_coordinates": [4.0, 146.24, 122.27, 152.56, 23.23]}, {"formula_id": "formula_1", "formula_text": "(k, z k , C k S0 ) \u25b7 1) Preprocessing 2: C k R0 \u2190 REFERENCECLOUD(C R , k, z k ) 3: C k S \u2190 FILTERSCANNEDCLOUD(z k , C k S0 ) \u25b7 2) Registration 4:", "formula_coordinates": [4.0, 318.95, 150.87, 192.26, 81.83]}, {"formula_id": "formula_2", "formula_text": "(R k , t k ) \u2190 ICP(C k R0 , C k S )", "formula_coordinates": [4.0, 345.08, 236.94, 104.04, 12.48]}, {"formula_id": "formula_3", "formula_text": "C k R \u2190 R k C k R0 + t k // Apply transformation to C k R \u25b7 3) Defect Detection // Define d C k R to measure distance to C k R . KD-tree is used to compute efficiently. 7: Let d C k R (x) = min x R \u2208C k R \u2225x \u2212 x R \u2225 8: D k P \u2190 {[x, y, z] \u2208 C k S : z \u2265 z k , d C k R ([x, y, z]) \u2265 \u03b5} 9: D k N \u2190 {[x, y, z] \u2208 C k S : z < z k , d C k R ([x, y, z]) \u2265 \u03b5} 10: return D k P , D k N 11: end procedure Tree on C k R , segmenting each point x S \u2208 C k S with D k = x S \u2208 C k S min x R \u2208C k R \u2225x S \u2212 x R \u2225 \u2265 \u03b5", "formula_coordinates": [4.0, 313.2, 251.29, 244.27, 200.19]}], "doi": ""}