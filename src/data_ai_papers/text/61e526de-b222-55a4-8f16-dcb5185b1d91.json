{"title": "A Minimal Set of Constraints for the Trifocal Tensor", "authors": "Nikos Canterakis", "pub_date": "", "abstract": "In this paper we derive a minimal set of sufficient constraints in order for 27 numbers to constitute a trifocal tensor. It is shown that, in general, eight nonlinear algebraic constraints are enough.This result is in accordance with the theoretically expected number of eight independent constraints and novel since the to date known sets of sufficient constraints contain at least 12 conditions. Up to now, research and formulation of constraints for the trifocal tensor has concentrated mainly on the correlation slices and has produced sets of constraints that are neither minimal (\u2265 12) nor independent. We show that by turning attention from correlation to homographic slices, simple geometric considerations yield the desired result. Having the minimal set of constraints is important for constrained estimation of the tensor, as well as for deepening the understanding of the multiple view relations that are valid in the projective framework.", "sections": [{"heading": "Introduction", "text": "The last decade has seen a great number of publications in the area of multiple view vision and consequently an enormous progress in practical as well as theoretical aspects. One of the most interesting and intriguing theoretical constructions is the trifocal tensor that appears as the connecting block between the homogeneous coordinates of image points and/or image lines over three views. It is already very difficult even to try to cite all scientific work that has been published in the last years around this topic. The trifocal tensor has appeared first in disguised form in [13] in the calibrated case and in [15]. Trilinear relationships in the uncalibrated case were first published in [11] and the tensorial description in [4], [12] and [14]. Simultaneous using of corresponding points and lines has appeard in [5] and necessary and sufficient conditions were formulated in [3] and [9].\nIn this paper we will focus attention on deriving a minimal set of constraints. It is seen that eight nonlinear constraints are enough. This is a very satisfying result because the theoretically expected number has been eight and the minimal set to date known contained 12 constraints (not independent).\nIn order to make the material as self contained as possible we give in Section 2 a derivation of the trifocal tensor. Overlap with existing literature is unavoidable, however many things appear in new form. In Section 3 we describe the so called correlation slices ( [1], [2]) of the tensor that have been the basis for developing sufficient constraints. In Section 4 we turn attention from correlation to homographic slices ( [1], [2], [12]) and show that this is the key for obtaining a minimal set of constraints. In Section 5 we formulate our geometric and algebraic conditions and we conclude in Section 6.", "publication_ref": ["b12", "b14", "b10", "b3", "b11", "b13", "b4", "b2", "b8", "b0", "b1", "b0", "b1", "b11"], "figure_ref": [], "table_ref": []}, {"heading": "The Trifocal Tensor", "text": "In this section we will give a derivation of the trifocal tensor in closed factored form in dependence on camera matrices and at the same time fix our notation. We note here already that we are not going to use tensor notation and that the indices I, J and K that will appear are not tensorial indices but just a means to distinguish the views.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "One View", "text": "Consider a scene point in the threedimensional projective space P 3 represented by a fourdimensional vector X containing the homogeneous coordinates of the point. A projective camera I represented by a 3\u00d74 matrix P I will map the space point onto a point x I \u2208 P 2 of the image plane I containing its three homogeneous coordinates. This mapping looks linear and reads x I \u223c P I X .\n(1)\nSince by using homogeneous coordinates the scale is unimportant and unrecoverable we use the sign \u223c instead of = . We will be using the = sign only if strict numerical equality between the two sides is meant. If our knowledge about the location of a space point is limited only in the knowledge of its image x I we can only say about X that it must lie on the optical ray B I (x I ) containing the image point x I and the camera center C I \u2208 P 3 . The camera center fulfills the equation P I C I = 0 since it is the only point in P 3 for which there isn't any image (of course under the idealizing assumption that the camera \"sees\" in all directions). We obtain a parametric representation of the possible locations of X if we try to \"solve\" the equation above. Since P I is not square it does not have an inverse. However, using the pseudoinverse [16] P + I of P I we obtain\nX \u223c P + I x I + C I \u03bb\nand every that way computed point X satisfies equation (1). We will always assume that camera matrices have rank three. In that case we have P + I = P T I (P I P T I ) \u22121 and C I \u223c (P + I P I \u2212 I 4 )v where I 4 is the 4 \u00d7 4 identity and v may be any arbitrary 4-vector (not in the range of P T I ) since (P + I P I \u2212 I 4 ) has rank 1. All possible different solutions X are obtained by varying the parameter \u03bb. We note that P + I x I is a point on the ray B I (x I ) that is guaranteed not to be coincident with C I . That enables us to write down the nonparametric equation of the ray B I (x I ) based on two distinct points P + I x I and C I that define the ray:\nB I (x I ) \u223c P + I x I C T I \u2212 C I x T I P +T I B I (x I\n) is a 4\u00d7 4 skew symmetrical matrix of rank two that contains the Pl\u00fccker coordinates of the ray [10]. This representation has the advantage that one can immediately give the intersection point of the ray with some given plane \u03c0.\nThus, if we know that the space point X is on the plane \u03c0 (X T \u03c0 = 0) then we will have:\nX \u223c B I (x I )\u03c0", "publication_ref": ["b0", "b9"], "figure_ref": [], "table_ref": []}, {"heading": "Two Views", "text": "Next we consider a second image x J \u223c P J X of X provided by a second camera J with camera matrix P J . For the above considered point we then obtain the relation\nx J \u223c P J B I (x I )\u03c0 \u223c P J (P + I x I C T I \u2212 C I x T I P +T I )\u03c0.\nAs it is easily seen, the dependence of x J on x I is linear. To make this linearity explicit we make twice use of the algebraic law vec(ABC) = (A \u2297 C T )vec(B) where vec denotes the row-wise convertion of some matrix to a column vector and \u2297 denotes the Kronecker product and obtain\nx J \u223c H JI (\u03c0)x I (2)\nwhere H JI (\u03c0) is given by the following formula:\nH JI (\u03c0) \u223c (P J \u2297 \u03c0 T )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I (3\n)\nH JI (\u03c0) is a homography matrix that assigns to every point x I of image plane I an image point x J of image plane J due to the plane \u03c0. Put differently, by a homography mapping x J \u223c H JI (\u03c0)x I the two optical rays B I (x I ) and B J (x J ) are guaranteed to intersect on the plane \u03c0. Multiplying out we also obtain for the above homography:\nH JI (\u03c0) \u223c P J P + I \u2297 \u03c0 T C I \u2212 P J C I \u03c0 T P + I \u223c H JI \u2297 \u03c0 T C I \u2212 e JI \u03c0 T P + I (4)\nHere we have denoted by e JI := P J C I the epipole of camera center C I on image plane J and by H JI (without argument) the product P J P + I which is a special homography due to the plane with the same homogeneous coordinates like C I (\u03c0 \u223c C I ) as it is easily seen from above. This is a plane that is guaranteed not to contain the camera center C I . Now multiplying equation (2) \nF JI \u223c [e JI ] \u00d7 H JI (\u03c0)(5)\nis easily seen from ( 4) not to depend on the plane \u03c0 (at least up to an unimportant scale factor). Furthermore, it is invariant with respect to projective transformations of the space P 3 . As such, it is well known that the fundamental matrix encapsulates the projective structure of two views and computes for every point x I on image plane I the epipolar line denoted \u03bb JI in image plane J on which x J is constrained to lie:\n\u03bb JI \u223c [e JI ] \u00d7 x J \u223c F JI x I (6)\nNot less well known is the fact that the fundamental matrix depends on 7 independent parameters (2 \u00d7 11 for the two camera matrices minus 15 for the projective freedom) and that consequently the nine elements of F JI are not independent and should fulfil one constraint besides the free scale. As it is apparent from equation ( 5) this constraint must be det(F JI ) = 0 since [e JI ] \u00d7 and consequently also F JI has rank two. What in the case of two cameras has been so easy to derive, is in the case of three cameras to be described below by far not as trivial.\nConcluding this short two-views exposition we also mention some well known but important facts concerning homographies and fundamental matrices that will be useful in the sequel:\n-Homographies are in general regular matrices -The inverse of a regular homography is a homography due to the same plane but with interchanged image planes: \nH JI (\u03c0) \u22121 \u223c H IJ (\u03c0) -Any", "publication_ref": ["b1", "b2"], "figure_ref": [], "table_ref": []}, {"heading": "Three Views", "text": "Now we assume that the knowledge about the plane \u03c0 on which the space point X has been assumed to lie is provided by a third view K. If the image point x K \u223c P K X is known to lie on the line l K of the image plane K then one deduces from l T K x K = 0 that l T K P K X = 0 and consequently that this plane is described by \u03c0 \u223c P T K l K . Now plugging this specific plane into equation (3) and using elementary calculational operations concerning Kronecker products we obtain\nH JI (P T K l K ) \u223c (I 3 \u2297 l T K )(P J \u2297 P K )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I . (7\n)\nWe define the part of the expression on the right that does only depend on camera parameters to be the trifocal tensor T JK I . Multiplying we also obtain the tensor in a more familiar form:\nT JK I \u223c (P J \u2297 P K )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I (8) \u223c H JI \u2297 e KI \u2212 e JI \u2297 H KI (9)\nAs the fundamental matrix, the trifocal tensor is invariant with respect to projective transformations of P 3 and encapsulates the projective structure of the space given three (uncalibrated) views. Besides, it has been shown that one can have in ( 9) homographies due to any plane that must be however the same for both homographies, i.e. we have\nT JK I \u223c H JI (\u03c0) \u2297 e KI \u2212 e JI \u2297 H KI (\u03c0) \u2200 \u03c0 .\nWritten in the form above the tensor appears as a 9\u00d73 matrix. We will adopt in this paper a sort of engineering approach and treat the tensor as a matrix. We believe that in doing so, nothing is really lost and on the other hand some properties of the tensor are in our opinion easier to grasp this way, avoiding confusing tensorial indices. After all the fundamental matrix is a tensor as well but mostly referred to as a matrix. Note however that there are cases where the converse proceeding may well be reasonable, i.e. treat the fundamental matrix as a tensor (cf. [2]). Particular contractions of the tensor that will be needed later will appear as 3 \u00d7 3 matrices that can be extracted from the tensor either as particular submatrices and linear combinations thereof or as 3 \u00d7 3 reshapings of its three columns and linear combinations thereof. To be specific, we will be using the following notation:\nT JK I \u223c (q, r, s) = \uf8eb \uf8ed U V W \uf8f6 \uf8f8 (10)\nHere are q, r, and s 9-dimensional vectors and U, V and W 3 \u00d7 3 matrices. The 3 \u00d7 3 reshapings of the three 9-vectors q, r and s will be denoted Q, R and S respectively, i.e. we define {q} 3\u00d73 =: Q, {r} 3\u00d73 =: R and {s} 3\u00d73 =: S with vec(Q) = q, vec(R) = r and vec(S) = s .\nTo relieve the further reading of the paper for readers accustomed to the tensorial notation we note that Q, R and S are the correlation slices of the tensor often\ndenoted JK I T \u2022\u2022 1 , JK I T \u2022\u2022 2\nand JK I T \u2022\u2022 3 respectively. These are the three classical matrices of [13] and [15] discovered in the context of line geometry. Likewise are U, V and W the three homographic slices\nJK I T 1\u2022 \u2022 , JK I T 2\u2022\n\u2022 and JK I T 3\u2022 \u2022 respectively described in [1], [2] and [12].\nPerhaps one of the most striking properties of the trifocal tensor is that this one entity links together corresponding points and/or lines in the three views as well as corresponding points and lines through corresponding points. It is immediately seen from equations ( 2), ( 7) and ( 8) that the corresponding image points x I , x J and the image line l K that goes through the third corresponding image point x K are linked together by the relation\nx J \u223c (I 3 \u2297 l T K )T JK I H JI (P T K l K )\nx I (11) or, equivalently,\nx J \u223c {T JK I x I } 3\u00d73 l K . (12\n)\nNow, with any line l J going through image point x J we will also have\nl T J {T JK I x I } 3\u00d73 l K = 0 (13)\nor, equivalently, (l T J \u2297 l T K )T JK I x I = 0 . If we would like to interchange the r\u00f4les of image planes J and K we would have to interchange the indices J and K everywhere in the formulas above, thus moving also to a different tensor. However, it is easily seen that these two tensors do not differ substantially from one another. In fact the one is a simple rearrangement of the elements of the other. This can be easily deduced from equation ( 13) of which the very symmetrical structure may lead either back to equation (12) or to l\nT J {T JK I x I } 3\u00d73 \u223c x T K (14\n)\nthus computing the corresponding point in image plane K from the image point x I and some image line l J going through x J using the same tensor.", "publication_ref": ["b1", "b12", "b14", "b0", "b1", "b11", "b10", "b11"], "figure_ref": [], "table_ref": []}, {"heading": "The Correlation Slices Q, R and S", "text": "We begin with describing the so called correlation slices Q, R and S of the tensor since these entities have been mainly used in exploring the constraints that 27 numbers, arranged as in ( 10), must satisfy in order for them to constitute a trifocal tensor. Starting with equation ( 12) and using ( 10) we obtain\nx J \u223c (x 1 I Q + x 2 I R + x 3 I S)l K .\nThus, any linear combination of the matrices Q, R and S maps lines l K in image plane K onto points in image plane J. Since mappings from lines to points are called in the mathematical literature correlations [10], we see that linear combinations of Q, R and S are correlation contractions of the tensor. Moreover, we observe that by fixing x I and varying \u03c0 or, equivalently, varying l K arbitrarily, x J must move along the epipolar line F JI x I \u223c \u03bb JI in image J since x I remains fixed. All these correlations and consequently Q, R and S themselves, which have been called the Standard Correlation Slicing [2], must therefore be rank two, singular correlations with left null space the epipolar line \u03bb JI corresponding to the image point x I . Furthermore, since all epipolar lines intersect at the epipole e JI the left nullspaces of all correlations {T JK I x I } 3\u00d73 span only a two dimensional space. This is especially true for the Standard Correlation Slicing Q, R and S for which according to (6) the left nullspaces are respectively the first, second and third column of the fundamental matrix F JI and fundamental matrices are rank two.\nAs for the right null space of {T JK I x I } 3\u00d73 , by repeating the argument above but starting from eq. ( 14) we find that it must be the epipolar line \u03bb KI \u223c F KI x I in image K corresponding to the image point x I . Again, since all those epipolar lines intersect at the epipole e KI the right null spaces of all correlation contractions {T JK I x I } 3\u00d73 span a two-dimensional space as well. In particular, the right null spaces of Q, R and S are the first, second and third column of the fundamental matrix F KI respectively.\nIt is perhaps very instructive to note that the whole discussion above may be condensed in two simple algebraic formulas (( 15) and ( 16) below) which can tell us even more than we could deduce geometrically. If we rearrange the elements of T JK I in another 9 \u00d7 3 matrix definin\u011d\nT := \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 = T JK I T 9\u00d73\nthen it is not difficult to see from (9) thatT will read as follows:\nT = \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 \u223c vec(H T JI )e T KI \u2212 H T KI \u2297 e JI\nWe observe that we can cancel the first term above by multiplying on the right by F KI obtainingT Hence, we first verify the result that the columns of F KI are the right null spaces of Q, R and S (diagonal entries in (15)). Furthermore, we also obtain a generalized eigenvector of pairs of standard correlations and the corresponding eigenvalues as it is easily seen. This is the line of thought we want to pursue, however not for correlations but for the later to be investigated homographic slices of the trifocal tensor. Similarly, by definin\u01e7  (16) which is the analogue of equation (15). Equations ( 15) and ( 16) are samples of Heyden's quadratic p-relations [6] but put in a much more informative and appealing form. We note here in passing that all other quadratic p-relations that are valid between the trifocal tensor, the fundamental matrices and the epipoles may be obtained in a similar manner by cancelling one or both terms of different systematic rearrangements of the tensor elements. Furthermore, tasks like computation of all trifocal tensors from some particular one or from the fundamental matrices and vice versa, can be very compactly formulated using the formalism introduced above.\nF KI \u223c \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 F KI \u223c H T KI F KI \u2297\nThe preceding discussion shows that the correlation slices of the tensor exhibit many striking properties and it is natural that they have attracted much interest in the past. In fact, the constraints that 27 numbers must satisfy in order for them to constitute a trifocal tensor have been formulated on the basis of the correlation slices. Reversing the discussion above, it has been proved in [9] (cf. also [6]) that all properties of the correlations we mentioned make up also sufficient conditions and we adapt here a theorem in [9] in the following form: Theorem 1 (Papadopoulo-Faugeras). If 27 numbers are arranged as in equation ( 10) then they constitute a trifocal tensor if -all linear combinations of Q, R and S are singular and -all right null spaces of Q, R and S span only a two-dimensional subspace and -all left null spaces of Q, R and S span only a two-dimensional subspace.\nHence, the conditions given above are necessary as shown by our discussion and was well known and sufficient as shown by Theorem 1. However, turning these conditions in algebraic constraints that should be fulfilled by the 27 numbers in order for them to constitute a trifocal tensor, has resulted in 12 constraints [9] that are not independent since any number of constraints greater than eight must contain dependencies.\nIn the next section we will elucidate the question of constraints for the trifocal tensor from a new point of view that will enable us to formulate a new set of conditions that will be necessary and sufficient and at the same time minimal. Towards this end we now turn attention from the correlation slices Q, R and S of the tensor to the homographic slices U, V and W.", "publication_ref": ["b9", "b1", "b14", "b15", "b14", "b5", "b8", "b5", "b8", "b8"], "figure_ref": [], "table_ref": []}, {"heading": "The Homographic Slices U, V and W", "text": "In order to exploit these slices for the formulation of sufficient conditions for the tensor we first have to study their properties in some detail. To this end, we return to equation ( 14) and use the vec-operator on both sides. We then obtain (l T J \u2297 I 3 )T JK I H KI (P T J l J )\nx I \u223c x K which reads more explicitly\n(l 1 J U + l 2 J V + l 3 J W)x I \u223c x K .\nThus, any linear combination of matrices U, V and W with coefficients being the homogeneous coordinates of the line l J yields a homography from image I onto image K due to the plane P T J l J . Generally, these homographies are regular rank three. As with correlations, the Standard Homography Slicing ([1], [2]) of the trifocal tensor is here defined by setting for l J the unit vectors (1, 0, 0) T , (0, 1, 0) T and (0, 0, 1) T that gives us respectively the matrices U, V and W being homographies due to the planes \u03c0 1 \u223c ((1, 0, 0)P J ) T , \u03c0 2 \u223c ((0, 1, 0)P J ) T and \u03c0 3 \u223c ((0, 0, 1)P J ) T respectively. These planes are therefore represented by the first, second and third row of the camera matrix P J respectively. Now, since the matrices U, V and W are homographies from image plane I to image plane K they must possess the homography properties given in Section 2.2. In particular, they must map the epipole e IK onto the epipole e KI and hence the epipole e IK is a generalized eigenvector for the three matrices U, V and W:\nUe IK \u223c Ve IK \u223c We IK \u223c e KI . (17\n)\nIn the Appendix we also prove algebraically the following stronger result Now let us consider the space line L 23 defined to be the intersection line between planes \u03c0 2 and \u03c0 3 as defined above. Since these planes both go through C J so does their intersection which is therefore an optical ray of image J. Furthermore, these planes intersect the image plane J by construction in the lines (0, 1, 0) T and (0, 0, 1) T which, in turn, intersect in the point (1, 0, 0) T . Hence, we obtain for this optical ray L 23 \u223c B J ((1, 0, 0) T ) and consequently its images onto image planes I and K are the epipolar lines F IJ (1, 0, 0, ) T and F KJ (1, 0, 0, ) T respectively. Similarly, we obtain for the two other intersection lines: L 31 \u223c B J ((0, 1, 0) T ) with images F IJ (0, 1, 0, ) T and F KJ (0, 1, 0) T onto image planes I and K respectively and L 12 \u223c B J ((0, 0, 1) T ) with images F IJ (0, 0, 1) T and F KJ (0, 0, 1) T onto image planes I and K respectively. Next consider some pair of standard homographies, V and W say. Since they are due to the planes \u03c0 2 and \u03c0 3 respectively, the restriction of both homographies to the intersection \u03c0 2 \u2229 \u03c0 3 \u223c L 23 will give the same line homography that maps points of the epipolar line F IJ (1, 0, 0) T onto points of the epipolar line F KJ (1, 0, 0) T . To be specific, we will have:\n{T\nIf x T I F IJ (1, 0, 0) T = 0 then Vx I \u223c Wx I \u223c x K with x T K F KJ (1, 0, 0) T = 0 .\nConsequently, all points of the epipolar line F IJ (1, 0, 0) T are generalized eigenvectors for the pair of standard homographic slices V and W. Hence, these points span a two-dimensional generalized eigenspace for these two homographies. For the sake of completeness we display the analogue result for the two other pairs of homographies.\nIf\nx T I F IJ (0, 1, 0) T = 0 then Wx I \u223c Ux I \u223c x K with x T K F KJ (0, 1, 0) T = 0 .\nAll points of the epipolar line F IJ (0, 1, 0) T are generalized eigenvectors for the pair of homographic slices W and U and span a two-dimensional generalized eigenspace for these two homographies.\nIf\nx T I F IJ (0, 0, 1) T = 0 then Ux I \u223c Vx I \u223c x K with x T K F KJ (0, 0, 1) T = 0 .\nAll points of the epipolar line F IJ (0, 0, 1) T are generalized eigenvectors for the pair of homographic slices U and V and span a two-dimensional generalized eigenspace for these two homographies. This situation is depicted in Fig. 1 and Fig. 2. In summary, the generalized eigenspaces of any pair out of the three homographies U, V and W will consist of a one dimensional eigenspace spanned by the epipole e IK and of a two dimensional eigenspace that is orthogonal to one column of the fundamental matrix F IJ , i.e. it represents the points of the epipolar line in image I of a point in image J that, in turn is represented by a unit vector. In general, considering linear combinations of the homographic slices U, V and W, i.e. homographic contractions of the tensor we see that essentially we have already proved the following theorem: Theorem 2. Given any two homographies H KI (P T J l J1 ) and H KI (P T J l J2 ) between image planes I and K that are due to the planes P T J l J1 and P T J l J2 , defined by the lines l J1 and l J2 in image plane J and by the camera center C J , the generalized eigenspaces of the two homographies are -a one dimensional eigenspace spanned by the epipole e IK and -a two dimensional eigenspace containing all points on the epipolar line F IJ (l J1 \u00d7 l J2 ).\nF (0,1,0) F (1,0,0) IJ IJ T T IJ F (0,0,1)\nFor applications regarding the generalized eigenspaces and eigenvalues of pairs of homographies cf. [7] and [8]. We note that from above follows that the second pair of epipoles on the image planes I and K, namely e IJ and e KJ is mapped by all homographies U, V and W and linear combinations thereof onto one another as well, i.e. we have\nUe IJ \u223c Ve IJ \u223c We IJ \u223c e KJ . (19\n)\nAgain, in the Appendix we prove the stronger result The r\u00f4le of the epipole e IJ is recognized as that of being the intersection of all two-dimensional generalized eigenspaces of all pairs of linear combinations of the standard homographies U, V and W.\n{T JK I e IJ } 3\u00d73 \u223c \uf8eb \uf8ed (Ue\nAfter having explored the properties of the homographic slices of the trifocal tensor that give us necessary conditions, we set out in the next section for finding a minimal set of sufficient conditions.", "publication_ref": ["b1", "b6", "b7"], "figure_ref": [], "table_ref": []}, {"heading": "The Sufficient Conditions", "text": "", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Geometric Conditions", "text": "We begin with the following theorem: Theorem 3. Any three homographies U, V and W between two image planes which are due to three different planes \u03c0 1 , \u03c0 2 and \u03c0 3 , if arranged as in (10) then they constitute a trifocal tensor.\nThus, we get a trifocal tensor without any reference to a third camera or to a third image plane J. To see this we simply let the intersection of the three planes play the r\u00f4le of the camera center of a fictive third camera (\u03c0 1 \u2229 \u03c0 2 \u2229 \u03c0 3 \u223c C J ) and let the intersecting lines between two planes at a time play the r\u00f4le of the optical rays that we have considered in Section 4.\nTherefore, if 27 numbers have been arranged as in relation ( 10) then we only have to ensure that the three matrices U, V and W could be interpreted as homographies between two image planes. We claim that, for this to be the case, it suffices that the generalized eigenspaces of pairs of matrices U, V and W should be as shown in Fig. 1. This is essentially the content of the next theorem. In fact, we will draw directly the conclusion from the eigenspaces constellation to the trifocal tensor. The matrices U, V and W will then be of course automatically homographies since this is a property of the tensor.    Consider in Fig. 3 some arbitrary point x that defines a line l \u223c a\u00d7x. This line intersects the lines s 1 , s 2 and s 3 in the points u, v and w respectively. Now since u is element of a generalized eigenspace for the pair (V, W) and a is generalized eigenspace for all pairs we will have: Va \u223c Wa and Vu \u223c Wu . We denote the line Va \u00d7 Vu by l and see that this line will be the same line as Wa \u00d7 Wu (i.e. l \u223c Va \u00d7 Vu \u223c Wa \u00d7 Wu). Hence, since the point x is on l the points Vx and Wx will be on l since V and W represent collineations. And finally, by repeating the same argument for a second pair containing U we see that also Ux will lie on the same line l . That means that the points Ux, Vx and Wx are collinear and hence we will have det({(q, r, s)x} 3\u00d73 ) = det(x 1 Q + x 2 R + x 3 S) = det(Ux, Vx, Wx) T = 0 (cf. eq. ( 10)). Since the point x was arbitrary this result shows that the first demand of Theorem 1 is satisfied. Now, as it is immediately seen, the right null space of (x 1 Q + x 2 R + x 3 S) = (Ux, Vx, Wx) T will consist of l . But l goes always through a \u223c Ua \u223c Va \u223c Wa. Thus, all these null spaces span only a two-dimensional subspace.\nAs for the left null space of the expression above, it is equivalent with the right null space of the transposed expression, i.e. of (x 1 Q + x 2 R + x 3 S) T = (Ux, Vx, Wx). To see how the right null space of the last expression looks like, let the double generalized eigenvalue of the pair (U, V) be denoted with \u03bb 2 and of the pair (U, W) with \u00b5 2 . Then the matrices (V \u2212 \u03bb 2 U) and (W \u2212 \u00b5 2 U) will have rank 1. Since (V \u2212 \u03bb 2 U)a \u223c a then we will have (V \u2212 \u03bb 2 U)x \u223c a \u2200 x, and similarly, (W \u2212\u00b5 2 U)x \u223c a \u2200 x. There are therefore always two numbers \u03b1 and \u03b2 such that \u03b1(V \u2212 \u03bb 2 U)x \u2212 \u03b2(W \u2212 \u00b5 2 U)x = 0 or, equivalently, (Ux, Vx, Wx)(\u03b2\u00b5 2 \u2212 \u03b1\u03bb 2 , \u03b1, \u2212\u03b2) T = 0 and since (\u03b2\u00b5 2 \u2212 \u03b1\u03bb 2 , \u03b1, \u2212\u03b2) T = (0, \u03b2, \u03b1) T \u00d7 (1, \u03bb 2 , \u00b5 2 ) T we see that this null space is always orthogonal to (1, \u03bb 2 , \u00b5 2 ) T and hence lives in a two-dimensional subspace as well. Thus, all demands required by the Theorem 1 were shown to be satisfied. Q.E.D.\nA remarkable fact to note here is that, according to (21), the vector (1, \u03bb 2 , \u00b5 2 ) T represents nothing else than the epipole e JI : (1, \u03bb 2 , \u00b5 2 ) T \u223c e JI .", "publication_ref": ["b9"], "figure_ref": ["fig_3"], "table_ref": []}, {"heading": "Algebraic Conditions", "text": "The purpose of this section is the main scope of the paper, namely the formulation of a set of algebraic constraints that are sufficient for 27 numbers, arranged as in (10), to constitute a trifocal tensor. We know from the preceding section that all we have to do is to give the algebraic conditions for three 3 \u00d7 3 matrices U, V and W to possess the generalized eigenspace constellation shown in Fig. 3. Quite obviously, we demand: Since the Jordan canonical decomposition of U \u22121 V or U \u22121 W in the presence of double eigenvalues, as is here the case, could be not diagonal, the rank 1 demand in the conditions above is essential. It is easy to see that if these conditions are satisfied for the two pairs above then they will also be satisfied for the third pair. Besides, the line representing the two-dimensional generalized eigenspace of the third pair must go through the point of intersection of the other two pairs. Therefore, there is no need to demand any further conditions.\nThe derivation of the condition for a polynomial p(\u03bb) = a\u03bb 3 + b\u03bb 2 + c\u03bb + d to possess a double root is elementary. We give here the result. Introducing the abbreviations A := b 2 \u2212 3ac, B := bc \u2212 9ad and C := c 2 \u2212 3bd we have: p(\u03bb) will possess a double root if and only if\nB 2 \u2212 4AC = 0 . (22\n)\nconstraints to be enforced will result in stabler and faster estimation algorithms.\nThe key for obtaining this result was shown to be turning attention from the correlation slices to the homographic slices of the trifocal tensor.", "publication_ref": ["b9"], "figure_ref": ["fig_3"], "table_ref": []}, {"heading": "", "text": "If this condition is satisfied then the single root \u03bb 1 and the double root \u03bb 2 will read \u03bb 1 = B A \u2212 b a and \u03bb 2 = \u2212 B 2A .\nThus both, the condition for a double root and the roots themselves (provided the condition is satisfied) of a third degree polynomial may be given in terms of rational expressions in the coefficients of the polynomial. We know that the expression det(V \u2212 \u03bbU) may be expanded as follows:\nwhere tr denotes the trace of a matrix and A denotes the matrix of cofactors with the property A A = AA = det(A)I 3 . Note that A will exist even if A is singular and that the rows (columns) of A are cross products of the columns (rows) of A. Hence, the coefficients of det(V \u2212 \u03bbU) are third degree and can be given explicitly as outlined above, the coefficients A, B and C are sixth degree and the condition (22) is of degree twelve in the tensor elements.\nDenoting with a the common eigenvector corresponding to the single eigenvalues and with b the common eigenvector corresponding to the double eigenvalues we have: Testing for rank(V \u2212 \u03bb 2 U) = 1 is equivalent with testing (V \u2212 \u03bb 2 U)c \u223c Ua for any c not on the line a \u00d7 b and means two constraints. Specifically, since the vector a \u00d7 b as a point will not lie on the line a \u00d7 b these two constraints may be formulated as (V \u2212 \u03bb 2 U)(a \u00d7 b) \u223c Ua. Similarly means testing for rank(W \u2212 \u00b5 2 U) = 1 another two constraints.\nIn summary we obtain:\n-Two constraints by demanding eq. (22) for the two polynomials det(V\u2212\u03bbU) and det(W \u2212 \u00b5U) -Two constraints by demanding equality (up to scale) for the two one-dimensional generalized eigenspaces (a \u223c a) -Two constraints by demanding rank(V \u2212 \u03bb 2 U) = 1 and -Two constraints by demanding rank(W \u2212 \u00b5 2 U) = 1 .\nThus, we have presented a minimal set of eight constraints that is sufficient for 27 numbers to represent a trifocal tensor. It should be stressed that in this paper we have treated the general case ignoring some singular cases that may arise. Although they are of measure zero in the parameter space some of them might well be of practical relevance and worth investigating.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Conclusion", "text": "In this paper we have derived a minimal set of eight constraints that must be satisfied by 27 numbers (modulo scale) in order for them to constitute a trifocal tensor. This result is in accordance with the theoretically expected number of eight independent constraints and novel since the to date known sets of sufficient constraints contain at least 12 conditions. Knowledge of sufficient constraints for the trifocal tensor is important in constrained estimation from points and/or lines correspondences. It is expected that working with fewer and independent", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Appendix", "text": "To prove equation ( 18) we start with (9) which after multiplication on the right by e IK and rearranging gives:\nNow we use the definitions given in sections 2.1 and 2.2 and employ some algebraic manipulations to get: ", "publication_ref": [], "figure_ref": [], "table_ref": []}], "references": [{"ref_id": "b0", "title": "Threading fundamental matrices", "journal": "Springer-Verlag", "year": "1998", "authors": "S Avidan; A Shashua"}, {"ref_id": "b1", "title": "Tensor embedding of the fundamental matrix", "journal": "Springer-Verlag", "year": "1998", "authors": "S Avidan; A Shashua"}, {"ref_id": "b2", "title": "A nonlinear method for estimating the projective geometry of three views", "journal": "IEEE Computer Society Press", "year": "1998", "authors": "O Faugeras; T Papadopoulo"}, {"ref_id": "b3", "title": "A linear method for reconstruction from points and lines", "journal": "IEEE Computer Society Press", "year": "1995", "authors": "R I Hartley"}, {"ref_id": "b4", "title": "Lines and points in three views and the trifocal tensor", "journal": "International Journal of Computer Vision", "year": "1997", "authors": "R I Hartley"}, {"ref_id": "b5", "title": "A common framework for multiple view tensors", "journal": "Springer-Verlag", "year": "1998", "authors": "A Heyden"}, {"ref_id": "b6", "title": "View synthesis of piecewise planar objects", "journal": "", "year": "1999", "authors": "B Johansson"}, {"ref_id": "b7", "title": "View synthesis and 3D reconstruction of piecewise planar scenes using intersection lines between the planes", "journal": "IEEE Computer Society Press", "year": "1999", "authors": "B Johansson"}, {"ref_id": "b8", "title": "A new characterization of the trifocal tensor", "journal": "Springer-Verlag", "year": "1998", "authors": "T Papadopoulo; O Faugeras"}, {"ref_id": "b9", "title": "Algebraic Projective Geometry", "journal": "Oxford University Press", "year": "1952", "authors": "J G Semple; G T Kneebone"}, {"ref_id": "b10", "title": "Algebraic functions for recognition", "journal": "IEEE Transactions on Pattern Analysis and Machine Intelligence", "year": "1995", "authors": "A Shashua"}, {"ref_id": "b11", "title": "Trilinearity of three perspective views and its associated tensor", "journal": "IEEE Computer Society Press", "year": "1995", "authors": "A Shashua; M Werman"}, {"ref_id": "b12", "title": "Structure from motion using line correspondences", "journal": "International Journal of Computer Vision", "year": "1990", "authors": "M E Spetsakis; J Aloimonos"}, {"ref_id": "b13", "title": "Matching constraints and the joint image", "journal": "IEEE Computer Society Press", "year": "1995", "authors": "B Triggs"}, {"ref_id": "b14", "title": "Motion and structure from line correspondences: Closed form solution, uniqueness and optimization", "journal": "IEEE Transactions on Pattern Analysis and Machine Intelligence", "year": "1992", "authors": "J Weng; T S Huang; N Ahuja"}, {"ref_id": "b15", "title": "Linear System Theory -The State Space Approach R.E", "journal": "Krieger Publishing Company", "year": "1979", "authors": "L A Zadeh; C A Desoer"}], "figures": [{"figure_label": "", "figure_type": "figure", "figure_id": "fig_0", "figure_caption": "homography H JI (\u03c0) maps the epipole e IJ onto the epipole e JI -The map of a point x I under a homography H JI (\u03c0) is on the epipolar line \u03bb JI , i.e. \u03bb T JI H JI (\u03c0)x I = 0 \u2200 \u03c0 -The transpose of a homography maps corresponding epipolar lines onto one another, i.e. H JI (\u03c0) T \u03bb JI \u223c \u03bb IJ -The right and left null spaces of the fundamental matrix F JI are the epipoles e IJ and e JI respectively -Transposition of a fundamental matrix yields the fundamental matrix for interchanged image planes: F T JI \u223c F IJ .", "figure_data": ""}, {"figure_label": "12", "figure_type": "figure", "figure_id": "fig_1", "figure_caption": "Fig. 1 .Fig. 2 .12Fig. 1. Generalized eigenspaces of the homographies U, V and W .", "figure_data": ""}, {"figure_label": "4", "figure_type": "figure", "figure_id": "fig_2", "figure_caption": "Theorem 4 .4Three 3 \u00d7 3 matrices U, V and W, arranged as in eq. (10) constitute a trifocal tensor if and only if the generalized eigenspaces of pairs of them are as shown in Fig.3.Proof: The necessity has been shown in Section 4. To prove sufficiency we make use of Theorem 1 and of Fig.", "figure_data": ""}, {"figure_label": "3", "figure_type": "figure", "figure_id": "fig_3", "figure_caption": "33", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_4", "figure_caption": ".", "figure_data": ""}, {"figure_label": "3", "figure_type": "figure", "figure_id": "fig_5", "figure_caption": "Fig. 3 .3Fig. 3. The point a is a onedimensional generalized eigenspace of all pairs among the matrices U, V and W. Besides, every pair owns a two-dimensional generalized eigenspace represented by a line si as shown in the figure. All three twodimensional generalized eigenspaces intersect in the point b.", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_6", "figure_caption": "-The polynomial det(V \u2212 \u03bbU) should have a single root \u03bb 1 and a double root \u03bb 2 and (V \u2212 \u03bb 2 U) should have rank 1. -The polynomial det(W \u2212 \u00b5U) should have a single root \u00b5 1 and a double root \u00b5 2 and (W \u2212 \u00b5 2 U) should have rank 1. -The generalized eigenvectors to the single eigenvalues should be equal.", "figure_data": ""}, {"figure_label": "", "figure_type": "table", "figure_id": "tab_0", "figure_caption": "on the left by the 3 \u00d7 3 rank two skew symmetrical matrix [e JI ] \u00d7 that computes the cross product we obtain [e JI ] \u00d7 x J \u223c [e JI ] \u00d7 H JI (\u03c0)x I . The product [e JI ] \u00d7 H JI (\u03c0) referred to as the fundamental matrix F JI", "figure_data": ""}], "formulas": [{"formula_id": "formula_0", "formula_text": "X \u223c P + I x I + C I \u03bb", "formula_coordinates": [2.0, 177.75, 520.09, 77.85, 14.16]}, {"formula_id": "formula_1", "formula_text": "B I (x I ) \u223c P + I x I C T I \u2212 C I x T I P +T I B I (x I", "formula_coordinates": [3.0, 43.77, 100.13, 242.12, 30.02]}, {"formula_id": "formula_2", "formula_text": "X \u223c B I (x I )\u03c0", "formula_coordinates": [3.0, 186.57, 179.21, 59.83, 10.71]}, {"formula_id": "formula_3", "formula_text": "x J \u223c P J B I (x I )\u03c0 \u223c P J (P + I x I C T I \u2212 C I x T I P +T I )\u03c0.", "formula_coordinates": [3.0, 80.65, 249.21, 220.73, 14.16]}, {"formula_id": "formula_4", "formula_text": "x J \u223c H JI (\u03c0)x I (2)", "formula_coordinates": [3.0, 182.16, 319.9, 207.43, 10.71]}, {"formula_id": "formula_5", "formula_text": "H JI (\u03c0) \u223c (P J \u2297 \u03c0 T )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I (3", "formula_coordinates": [3.0, 118.87, 359.58, 266.48, 14.16]}, {"formula_id": "formula_6", "formula_text": ")", "formula_coordinates": [3.0, 385.35, 361.6, 4.24, 9.96]}, {"formula_id": "formula_7", "formula_text": "H JI (\u03c0) \u223c P J P + I \u2297 \u03c0 T C I \u2212 P J C I \u03c0 T P + I \u223c H JI \u2297 \u03c0 T C I \u2212 e JI \u03c0 T P + I (4)", "formula_coordinates": [3.0, 126.94, 449.1, 262.66, 29.11]}, {"formula_id": "formula_8", "formula_text": "F JI \u223c [e JI ] \u00d7 H JI (\u03c0)(5)", "formula_coordinates": [3.0, 171.28, 591.45, 218.32, 10.71]}, {"formula_id": "formula_9", "formula_text": "\u03bb JI \u223c [e JI ] \u00d7 x J \u223c F JI x I (6)", "formula_coordinates": [4.0, 162.13, 132.59, 227.47, 10.71]}, {"formula_id": "formula_10", "formula_text": "H JI (\u03c0) \u22121 \u223c H IJ (\u03c0) -Any", "formula_coordinates": [4.0, 49.98, 308.97, 263.44, 22.61]}, {"formula_id": "formula_11", "formula_text": "H JI (P T K l K ) \u223c (I 3 \u2297 l T K )(P J \u2297 P K )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I . (7", "formula_coordinates": [4.0, 84.56, 547.03, 300.8, 14.16]}, {"formula_id": "formula_12", "formula_text": ")", "formula_coordinates": [4.0, 385.35, 549.05, 4.24, 9.96]}, {"formula_id": "formula_13", "formula_text": "T JK I \u223c (P J \u2297 P K )(I 4 \u2297 C I \u2212 C I \u2297 I 4 )P + I (8) \u223c H JI \u2297 e KI \u2212 e JI \u2297 H KI (9)", "formula_coordinates": [5.0, 124.22, 59.91, 265.38, 27.67]}, {"formula_id": "formula_14", "formula_text": "T JK I \u223c H JI (\u03c0) \u2297 e KI \u2212 e JI \u2297 H KI (\u03c0) \u2200 \u03c0 .", "formula_coordinates": [5.0, 173.36, 148.52, 211.96, 13.33]}, {"formula_id": "formula_15", "formula_text": "T JK I \u223c (q, r, s) = \uf8eb \uf8ed U V W \uf8f6 \uf8f8 (10)", "formula_coordinates": [5.0, 160.14, 311.57, 229.46, 41.84]}, {"formula_id": "formula_16", "formula_text": "denoted JK I T \u2022\u2022 1 , JK I T \u2022\u2022 2", "formula_coordinates": [5.0, 43.75, 504.75, 103.71, 13.33]}, {"formula_id": "formula_17", "formula_text": "JK I T 1\u2022 \u2022 , JK I T 2\u2022", "formula_coordinates": [5.0, 237.28, 528.66, 64.66, 13.33]}, {"formula_id": "formula_18", "formula_text": "x J \u223c (I 3 \u2297 l T K )T JK I H JI (P T K l K )", "formula_coordinates": [6.0, 167.93, 85.52, 84.23, 30.31]}, {"formula_id": "formula_19", "formula_text": "x J \u223c {T JK I x I } 3\u00d73 l K . (12", "formula_coordinates": [6.0, 166.94, 135.27, 218.23, 13.55]}, {"formula_id": "formula_20", "formula_text": ")", "formula_coordinates": [6.0, 385.17, 137.14, 4.43, 9.96]}, {"formula_id": "formula_21", "formula_text": "l T J {T JK I x I } 3\u00d73 l K = 0 (13)", "formula_coordinates": [6.0, 169.4, 173.83, 220.2, 13.55]}, {"formula_id": "formula_22", "formula_text": "T J {T JK I x I } 3\u00d73 \u223c x T K (14", "formula_coordinates": [6.0, 173.64, 308.03, 211.52, 13.55]}, {"formula_id": "formula_23", "formula_text": ")", "formula_coordinates": [6.0, 385.17, 309.9, 4.43, 9.96]}, {"formula_id": "formula_24", "formula_text": "x J \u223c (x 1 I Q + x 2 I R + x 3 I S)l K .", "formula_coordinates": [6.0, 151.7, 448.92, 129.96, 13.55]}, {"formula_id": "formula_25", "formula_text": "T := \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 = T JK I T 9\u00d73", "formula_coordinates": [7.0, 151.57, 234.86, 129.71, 41.84]}, {"formula_id": "formula_26", "formula_text": "T = \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 \u223c vec(H T JI )e T KI \u2212 H T KI \u2297 e JI", "formula_coordinates": [7.0, 126.42, 302.58, 179.48, 41.85]}, {"formula_id": "formula_27", "formula_text": "F KI \u223c \uf8eb \uf8ed Q R S \uf8f6 \uf8f8 F KI \u223c H T KI F KI \u2297", "formula_coordinates": [7.0, 139.8, 379.3, 144.63, 41.84]}, {"formula_id": "formula_28", "formula_text": "(l 1 J U + l 2 J V + l 3 J W)x I \u223c x K .", "formula_coordinates": [9.0, 150.31, 105.92, 132.73, 13.55]}, {"formula_id": "formula_29", "formula_text": "Ue IK \u223c Ve IK \u223c We IK \u223c e KI . (17", "formula_coordinates": [9.0, 145.17, 297.52, 240.0, 10.71]}, {"formula_id": "formula_30", "formula_text": ")", "formula_coordinates": [9.0, 385.17, 297.52, 4.43, 9.96]}, {"formula_id": "formula_31", "formula_text": "{T", "formula_coordinates": [9.0, 123.64, 355.21, 12.95, 9.96]}, {"formula_id": "formula_32", "formula_text": "If x T I F IJ (1, 0, 0) T = 0 then Vx I \u223c Wx I \u223c x K with x T K F KJ (1, 0, 0) T = 0 .", "formula_coordinates": [10.0, 53.27, 85.72, 326.82, 13.55]}, {"formula_id": "formula_33", "formula_text": "x T I F IJ (0, 1, 0) T = 0 then Wx I \u223c Ux I \u223c x K with x T K F KJ (0, 1, 0) T = 0 .", "formula_coordinates": [10.0, 63.15, 176.17, 317.01, 13.55]}, {"formula_id": "formula_34", "formula_text": "x T I F IJ (0, 0, 1) T = 0 then Ux I \u223c Vx I \u223c x K with x T K F KJ (0, 0, 1) T = 0 .", "formula_coordinates": [10.0, 64.75, 242.71, 313.82, 13.55]}, {"formula_id": "formula_35", "formula_text": "F (0,1,0) F (1,0,0) IJ IJ T T IJ F (0,0,1)", "formula_coordinates": [10.0, 51.28, 352.98, 147.36, 88.96]}, {"formula_id": "formula_36", "formula_text": "Ue IJ \u223c Ve IJ \u223c We IJ \u223c e KJ . (19", "formula_coordinates": [11.0, 147.84, 220.45, 237.33, 10.71]}, {"formula_id": "formula_37", "formula_text": ")", "formula_coordinates": [11.0, 385.17, 220.45, 4.43, 9.96]}, {"formula_id": "formula_38", "formula_text": "{T JK I e IJ } 3\u00d73 \u223c \uf8eb \uf8ed (Ue", "formula_coordinates": [11.0, 126.82, 256.34, 102.62, 31.7]}, {"formula_id": "formula_39", "formula_text": "B 2 \u2212 4AC = 0 . (22", "formula_coordinates": [13.0, 181.17, 589.58, 204.0, 11.84]}, {"formula_id": "formula_40", "formula_text": ")", "formula_coordinates": [13.0, 385.17, 591.45, 4.43, 9.96]}], "doi": ""}