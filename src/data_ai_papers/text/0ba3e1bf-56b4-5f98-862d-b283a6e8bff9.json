{"title": "Consequence-Driven Reasoning for Horn SHIQ Ontologies", "authors": "Yevgeny Kazakov", "pub_date": "", "abstract": "We present a novel reasoning procedure for Horn SHIQ ontologies-SHIQ ontologies that can be translated to the Horn fragment of first-order logic. In contrast to traditional reasoning procedures for ontologies, our procedure does not build models or model representations, but works by deriving new consequent axioms. The procedure is closely related to the so-called completion-based procedure for EL ++ ontologies, and can be regarded as an extension thereof. In fact, our procedure is theoretically optimal for Horn SHIQ ontologies as well as for the common fragment of EL ++ and SHIQ. A preliminary empirical evaluation of our procedure on large medical ontologies demonstrates a dramatic improvement over existing ontology reasoners. Specifically, our implementation allows the classification of the largest available OWL version of Galen. To the best of our knowledge no other reasoner is able to classify this ontology.", "sections": [{"heading": "Introduction", "text": "Ontologies are formal vocabularies of terms describing specific subjects like chemical elements, genes, or animal species. The terms in ontologies are \"defined\" by means of relationships with other terms of the ontology using ontology languages. Ontology languages based on Description Logics (DLs) [Baader et al., 2007], such as OWL, 1 are becoming increasingly popular among ontology developers thanks to the availability of ontology reasoners, which provide automated support for visualization, debugging, and querying of ontologies. Classification is a central reasoning service provided by ontology reasoners. The goal of classification is to compute a hierarchical relation between classes. The class hierarchy is used to browse ontologies in ontology editors.\nMost of the currently-available ontology reasoners are based on so-called model building procedures such as tableau [Horrocks et al., 2000] and hyper-tableau [Motik et al., 2007] calculi. Such procedures classify an input ontology, in general, by iterating over all necessary pairs of classes, and trying to build a model of the ontology that violates the subsumption 1 http://www.w3.org/2004/OWL/ relation between them. Recent investigations of tractable DLs such as EL ++ [Baader et al., 2005] led to the discovery of another type of reasoning procedures. Instead of enumerating pairs of classes and building counter-models, the procedure for EL ++ derives subsumption relations explicitly using special inference rules. The advantage of this method is that subsumption relations are computed \"all at once\" in a goal-directed way without costly enumerations.\nThe EL ++ language sacrifices many commonly-used constructors, such as inverse roles and functional restrictions, in order to ensure that reasoning is tractable. In this paper we describe a reasoning procedure, which utilizes the core reasoning technique of EL ++ , but works for a larger class of socalled Horn SHIQ ontologies. Horn SHIQ ontologies are ontologies expressed in the DL SHIQ, which do not contain \"non-deterministic\" constructors, such as positive disjunction: A B C. Horn SHIQ originally has drawn attention in [Hustadt et al., 2007] due to its tractable data complexity. Our paper demonstrates that Horn SHIQ ontologies also admit for a more efficient classification procedure.\nThis paper is organised as follows. In the preliminaries we introduce Horn SHIQ and a completion-based procedure for a fragment of EL ++ . In Section 3 we discuss how to extend this procedure for new constructors in Horn SHIQ. In Section 4 we present our reasoning procedure and prove soundness, completeness, and termination. Finally, in Section 5 we present an empirical comparison of a prototypical implementation of our procedure with other reasoners, which demonstrates a substantial performance improvement.", "publication_ref": ["b0", "b0", "b0", "b0"], "figure_ref": [], "table_ref": []}, {"heading": "Preliminaries", "text": "In this section we define the description logics SHIQ and EL + , as well as their fragments Horn SHIQ and ELH. To simplify the presentation and save space, we will not consider ABox assertions in this paper.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "The Description Logic SHIQ", "text": "A description logic vocabulary consists of countably infinite sets N C of atomic concepts, and N R of atomic roles. A SHIQ role is either r \u2208 N R or an inverse role r \u2212 with r \u2208 N R . We denote by R \u2212 the inverse of a role R defined by R \u2212 := r \u2212 when R = r and R \u2212 := r when R = r \u2212 .\nThe syntax and semantics of SHIQ is summarized in Table 1. The set of SHIQ concepts is recursively defined using Name Syntax Semantics Concepts atomic concept \nA A I (given) top concept \u0394 I bottom concept \u22a5 \u2205 negation \u00acC \u0394 I \\ C I conjunction C D C I \u2229 D I disjunction C D C I \u222a D I existential restriction \u2203R.C {x | R I (x, C I ) = \u2205} universal restriction \u2200R.C {x | R I (x, \u0394 I \\ C I ) = \u2205} min cardinality nS.C {x | ||S I (x, C I )|| \u2265 n} max cardinality mS.C {x | ||S I (x, C I )|| \u2264 m} Axioms role inclusion R 1 R 2 R I 1 \u2286 R I 2 role transitivity Tra(R) R I \u2022 R I \u2286 R I concept inclusion C D C I \u2286 D I\n1. A role R is transitive (in O) if Tra(R) \u2208 O or Tra(R \u2212 ) \u2208 O. Given an ontology O, let R 1 O R 2 be the smallest transitive reflexive relation between roles such that R 1 R 2 \u2208 O implies R 1 O R 2 and R \u2212 1 O R \u2212 2 .\nIt is required that for every concept of the form nS.C and mS.C in O the role S is simple, that is, R O S holds for no transitive role R.\nThe semantics of SHIQ is defined using interpretations. An interpretation is a pair I = (\u0394 I , \u2022 I ) where \u0394 I is a non-empty set called the domain of the interpretation and \u2022 I is the interpretation function, which assigns to every A \u2208 N C a set A I \u2286 \u0394 I , and to every r \u2208 N R a relation r I \u2286 \u0394 I \u00d7 \u0394 I . The interpretation is extended to roles by (r \u2212 ) I := { x, y | y, x \u2208 r I } and to concepts according to the right column of Table 1 \nO |= \u03b1) if every model of O satisfies \u03b1.\nClassification is a key reasoning problem for description logics and ontologies, which requires to compute all subsumptions A B entailed by O between atomic concepts.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_0"]}, {"heading": "The Horn Fragment of SHIQ", "text": "Positive and negative polarities of occurrences of SHIQ concepts in concepts and axioms are defined as follows:\n\u2022 C occurs positively in C; A concept C occurs positively (negatively) in an ontology O if C occurs positively (negatively) in some axiom of O. Note that it is possible for a concept to occur positively and negatively at the same time in an axiom or an ontology.\n\u2022\nA SHIQ ontology O is Horn if:\n\u2022 no concept of the form C D or mR.C with m > 1 occurs positively in O; \u2022 no concept of the form \u00acC, \u2200R.C, nR.C with n > 1, or mR.C occurs negatively in O.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Structural Transformation", "text": "Structural transformation is used to simplify the axioms of the ontology preserving its \"structure\". Given a SHIQ ontology O, for every (sub-)concept C in O we introduce a fresh atomic concept A C and define a function st(C) by:\n\u2022 st(A) = A, st( ) = , st(\u22a5) = \u22a5; \u2022 st(\u00acC) = \u00acA C ; \u2022 st(C D) = A C A D ; st(C D) = A C A D \u2022 st(\u2203R.C) = \u2203R.A C ; st(\u2200R.C) = \u2200R.A C ; \u2022 st( nR.C) = nR.A C ; st( mR.C) = mR.A C .\nThe result of applying structural transformation to O is an ontology O that contains all role inclusion and role transitivity axioms in O in addition to the following axioms:\n\u2022 A C st(C) for every C occurring positively in O \u2022 st(C) A C for every C occurring negatively in O \u2022 A C A D for every concept inclusion C D \u2208 O\nIt can be shown that structural transformation preserves the logical consequences of ontological axioms. ", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "The Description Logic EL +", "text": "The description logic EL + is one of the few description logics for which standard reasoning problems are decidable in polynomial time. EL + allows only for concepts constructed from atomic concepts A and the top concept using conjunction C D and existential restriction \u2203r.C, where r is an atomic role. The axioms of EL + can be either concept inclusions\nC D or complex role inclusions of the form r 1 \u2022\u2022 \u2022 \u2022\u2022r n s. The last are interpreted in I as r I 1 \u2022 \u2022 \u2022 \u2022 \u2022 r I n \u2286 s I ,\nwhere \u2022 is a composition of binary relations. For the purpose of this paper, we consider a common fragment of EL + and SHIQ called ELH, which allows only for (simple) role inclusions of the form r s. It can be easily seen that every ELH ontology is a Horn SHIQ ontology since it cannot contain concepts of the form \u00acC, C D, \u2200R.C, nR.C, or mR.C.\nIn [Baader et al., 2005], a polynomial time classification procedure has been presented for the description logic EL ++ , which extends EL + with the bottom concept \u22a5, nominals, and \"safe\" concrete domains. The procedure uses a number of so-called completion rules that derive new concept inclusions. In Table 2 we list the completion rules relevant to ELH. The rules are applied to a normalised ELH ontology O that is 3 From ELH to Horn SHIQ Horn SHIQ extends ELH by allowing many new constructors, notably, inverse roles, functionality restrictions, and positive occurrences of universal restrictions. These constructors have been disallowed in ELH and EL ++ for complexity reasons-in [Baader et al., 2005;2008] it was shown that adding any of these constructors results in a complexity increase from PTime to ExpTime. In this section we give an informal explanation for this complexity increase and outline how the completion-based procedure for ELH can be extended to handle the new Horn SHIQ constructors.\nIR1 A A IR2 A CR1 A B B C \u2208 O A C CR2 A B A C B C D \u2208 O A D CR3 A B B \u2203r.C \u2208 O A \u2203r.C CR4 A \u2203r.B r s \u2208 O A \u2203s.B CR5 A \u2203r.B B C \u2203r.C D \u2208 O A D", "publication_ref": ["b0", "b0", "b0"], "figure_ref": [], "table_ref": ["tab_2"]}, {"heading": "Inverse Roles and Universal Restrictions", "text": "According to the definition in Section 2.2, Horn SHIQ ontologies allow for the usage of inverse roles and positive occurrences of universal restrictions. In fact, positive occurrences of universal restrictions can be expressed by means of inverse roles using the equivalence (1):\nA \u2200R.B \u21d4 \u2203R \u2212 .A B (1)\nThe increase in the complexity of reasoning with inverse roles and universal restrictions, can be partially explained by a new kind of interaction between these constructors. Axioms of the form A \u2203R.B and C \u2200S.D can interact in two ways. First, the following inference (2) is possible:\nA \u2203R.B B \u2200R \u2212 .D A D (2)\nIt is easy to see using equivalence (1) that ( 2) is an instance of CR5 in Table 2. A new kind of interaction is inference (3):\nA \u2203R.B C \u2200R.D A C \u2203R.(B D) (3)\nIn contrast to (2), and all inference rules in Table 2, which have only conclusions of the form A B or A \u2203R.B, repeated applications of (3) can produce axioms of the form A i \u2203R. B j , where A i and B j are arbitrary conjunctions of atomic concepts. The number of such axioms is no longer polynomially bounded. Note, however, that there are at most exponentially many (semantically non-equivalent) axioms of this form since the number of different concepts in the conjunctions is always bounded. We will use this property to establish an exponential upper bound for our procedure.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_2", "tab_2"]}, {"heading": "Functional Restrictions on Roles", "text": "Horn SHIQ allow for expressing a functional restriction for a simple role S using the constructor 1S. . Since, for a functional role S, the axiom C \u2203S.D implies C \u2200S.D, the following analogs of inferences ( 3) and (2) are possible:\nA \u2203S.B C \u2203S.D A 1S. A C \u2203S.(B D) (4) A \u2203S.B B \u2203S \u2212 .C B 1S \u2212 . A C (5)\nIn Section 4, we generalize inferences (2)-( 5) and present a sound and complete system of inference rules for Horn SHIQ ontologies, which derive only consequence axioms of the form A i B and A i \u2203R.( B j ).", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "The Calculus for Horn SHIQ Ontologies", "text": "In this section we present a consequence-based procedure for classifying Horn SHIQ ontologies. The procedure consists of a preprocessing stage that applies structural transformation, simplifications, and elimination of transitivity, and a saturation stage that applies inferences to derive new axioms.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Normalization", "text": "From now on we use A (i) , B (i) to denote atomic concepts, R (i) roles, and S (i) simple roles. We say that a concept C is simple if it is of the form \u22a5, A, \u2203R.A, \u2200R.A, or 1S.A. We denote by A i a (possibly empty) conjunction of atomic concepts. The empty conjunction is abbreviated to .  Concept inclusions of the form A st(C + ) that are not of form (n1), are transformed to form (n1) as follows:\n\u2022\nA st(\u00acC)=\u00acA C \u21d2 A A C \u22a5; \u2022 A st( nS.C) = nS.A C \u21d2 A \u2203S.B i , B i A C , 1 \u2264 i \u2264 n, B i B j \u22a5, 1 \u2264 i < j \u2264 n,\nwhere B i are fresh atomic concepts. Concept inclusions of the form st(C \u2212 ) A that are not of form (n1) are transformed to form (n1) as follows:\n\u2022\nst(C D)=A C A D A \u21d2 A C A, A D A; \u2022 st(\u2203R.C)=\u2203R.A C A \u21d2 A C \u2200R \u2212 .A; \u2022 st( 1S.C)= 1S.A C A \u21d2 A C \u2200S \u2212 .A.\nIt is easy to show using Proposition 1, that O |= \u03b1 iff O |= \u03b1 for every axiom \u03b1 containing no new symbols.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Elimination of Transitivity", "text": "After normalization, we apply a well-known technique, which allows the elimination of transitivity axioms. Transitivity axioms of form (n3) in Lemma 2 can interact only with axioms A i \u2200R.B of form (n2) through role inclusions (n3). The transformation introduces a triple of axioms (6) for every axiom A i \u2200R.B of form (n1) and every transitive sub-role T of R, where B T is a fresh atomic concept:\nA i \u2200T.B T B T \u2200T.B T B T B (6)\nIntuitively, B T is used to propagate B to all elements reachable from elements in A i via a T -chain. Both of these transformations preserve the interpretation of axioms \u03b1 that do not contain these symbols.\nFor proving (i), we interpret B T in J as (B \u2200T.B) I . Trivially, the last two axioms in (6) are satisfied in J . The first axiom in (6) is satisfied in J since J satisfies A i \u2200R.B and T is a transitive sub-role of R. J satisfies the remaining axioms in O since they do not contain the new concepts B T .\nFor proving (ii), we interpret every non-simple role R in I as the union of R J and the transitive closures of T J for every transitive sub-role T of R (T J is not necessarily a transitive relation since O does not contain the transitivity axioms). It is easy to show that I satisfies all axioms (n1)-(n3). In particular, I satisfies the axioms of the form A i \u2200R.B since I remains to be a model of axioms (6). ", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "The Inference Rules", "text": "Our procedure for Horn SHIQ ontologies works by saturating the input axioms under the rules in Table 3. The rules are applied to a preprocessed ontology containing axioms of form (n1) and (n2) in Lemma 2, and produce axioms of the form M C and M \u2203R.N , where M and N are conjunctions of atomic concepts, and C is a simple concept.\nRules I1 and I2 produce the initial (tautological) concept inclusions for arbitrary M and A, which are then extended using axioms in O by rule R1. Rules R2-R6 are specific to the kinds of simple concepts implied by the conjunctions. Rule R2 propagates the entailment of bottom backwards over existential restrictions. Rules R3 and R4 deal with universal restrictions and generalize respectively inferences (3) and (2) in Section 3.1. Likewise, rules R5 and R6 with 7 premises, deal with qualified functional restrictions and generalize inferences (4) and (5). Note that in contrast to (5), rule R6 has two conclusions. Rules R3-R6 assume that the closure R 1 O R 2 of role inclusions of form (n2) is computed. The inference rules I1-R6 are applied exhaustively until no new axiom can be derived. The resulting ontology O is called the saturation of O.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_5"]}, {"heading": "Soundness and Completeness", "text": "In this section we demonstrate that our procedure is sound and complete for classification, that is, it derives all subsumptions between atomic concepts in the input ontology.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Theorem 4 Let O be an ontology containing only axioms of the form (n1) and (n2) in Lemma 2 and O the saturation of O under the rules in Table 3. Then", "text": "(i) O |= M B iff M \u22a5 \u2208 O or M B \u2208 O , and (ii) O |= M \u2203R.N iff M \u22a5 \u2208 O or there exists M \u2203R 1 .N 1 \u2208 O such that R 1 O R and N 1 B \u2208 O for every conjunct B in N .\nProof (sketch). It is easy to show that every axiom in O is entailed by O since the inference rules in Table 3 derive only logical consequences of the axioms in their premises. In other words, the system of rules is sound. Therefore the \"if\" direction of points (i) and (ii) are trivial. In order to prove the \"only if\" direction of points (i) and (ii), we construct a canonical model of O . Let \u03a3 be the set of all conjunctions M such that M \u22a5 / \u2208 O . If \u03a3 is empty, then M \u22a5 \u2208 O for every M , and so, (i) and (ii) hold. In the remainder of the proof, we assume that \u03a3 is not empty.\nLet I = (\u0394 I , \u2022 I ) be such that \u0394 I = \u03a3 + is the set of all finite non-empty words over \u03a3, and \u2022 I defined as follows:\n\u2022 Intuitively, the interpretation I is a forest where nodes are labeled with non-contradictory conjunctions M \u2208 \u03a3 and every node has a successor node for every non-contradictory conjunction N \u2208 \u03a3. Roles can connect only successive nodes in such a way that all axioms M \u2203R.N \u2208 O with maximal N are satisfied: if for a node marked with M the connection to its predecessor does not satisfy this axiom, it is connected to its successor marked with  Theorem 4, in conjunction with Lemmas 2 and 3, implies that our procedure based on the rules in Table 3 can be used, in particular, for computing all subsumptions A B between atomic concepts implied by the input ontology. In other words, the procedure is complete for classification of Horn SHIQ ontologies. Moreover, since the number of axioms of the form M C and M \u2203R.N is at most exponential in the number of atomic concepts, the procedure is guaranteed to terminate in exponential time. Since deciding concept subsumptions in Horn SHIQ ontologies is ExpTime-complete (in ExpTime since Horn SHIQ is a fragment of SHIQ and ExpTimehard since, e.g., Horn SHIQ contains EL with functionality), this implies that our procedure is computationally optimal.\nA I = {wM | M A \u2208 O , w \u2208 \u03a3 * } \u2022\nN . Rule R3 ensures that N is not contradictory if M is not. Note that wM, wM N \u2208 R I implies M \u2203R 1 .N \u2208 O for some R 1 O R. Below\nN i B \u2208 O , i = 1, 2. Since O is closed un- der R5, we have M \u2203R i .(N 1 N 2 ) \u2208 O , i = 1, 2. Since each N i is maximal for M and R i , i = 1, 2, we have N 1 = N 1 N 2 = N", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_5", "tab_5"]}, {"heading": "Practical Considerations", "text": "Theorem 4 actually implies a stronger result than just completeness of the calculus for classification. The rules in Table 3 can, in fact, be used to derive all subsumptions between conjunctions of atomic concepts and (existentially restricted conjunctions of) atomic concepts. For computing just a subset of these relations, e.g., for classification, our procedure can be significantly optimized by applying rules I1 and I2 selectively depending on the goal subsumptions. Specifically, I1 and I2 can be restricted to produce conjunctions N only when either (i) N is the left hand side of a goal subsumption (e.g., for classification, N is an atomic concept from the input ontology), or (ii) an axiom of the form M \u2203R.N has been derived.\nThe above optimization not only reduces the number of inferences, but also yields a polynomial time classification procedure for ELH ontologies. Indeed, it is easy to see that for ELH ontologies the rules R3, R5, and R6 never apply. The remaining rules produce only polynomially many axioms of the form A C and A \u2203R.B since those rules (including I1 and I2) never form conjunctions of several concepts.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Experimental Evaluation", "text": "The main goal for our consequence-based procedure for Horn SHIQ ontologies, was to reason efficiently with mediumsized ontologies such as Galen. 3 Galen turned out to be very difficult for model-building reasoners since it contains a large number of existential dependencies between classes of the form A \u2203R.B. These dependencies are used, e.g., for expressing partonomy relations between anatomical units, for example: BasilarArtery \u2203isBranchOf.VertebralArtery. The dependency relation between classes induced by such axioms is very large and highly cyclic. Because of the numerous cycles, model building reasoners fail to produce (a finite representation of) a model since cycle detection mechanisms (blocking) do not appear to be effective in these cases.\nThe reasoner CEL for EL + does not exhibit this problem since it does not build models but performs inferences according to Table 2. Axioms of the form A \u2203R.B are relatively harmless for CEL since these axioms alone do not result in any inference. Unfortunately, CEL cannot handle the full version of Galen since it does not support functionality and inverse roles, which Galen extensively uses. Thus the main question of our evaluation was whether the reasoner implemented according to the rules in Table 3 can scale well for ontologies outside the polynomial DL EL + .\nTo evaluate the performance of our procedure, we implemented a prototype reasoner CB 4 using a simplified version of the rules in Table 3   \"-\" means that the reasoner failed to return the result; \"n/a\" means that the test could not be performed.\nThe results of the experiments are summarized in Table 4. The time measured for CB includes loading, preprocessing, classification of the ontology and computing the transitively reduced and alphabetically sorted concept hierarchy. CB spends most of the time on loading for GO and NCI and on classification for the remaining ontologies, and considerably outperforms the other tested reasoners. In particular, CB is able to classify in just under 10 seconds the largest version of Galen, which could not be classified by the other reasoners.\nIt is worth commenting on the difference in the performance between CEL and CB. Although the rules in Table 3, when restricted to EL + ontologies, are very similar to those in Table 2, there is a small but important difference. Namely, our procedure has no analogue of rule CR4 in Table 2, which unfolds role inclusions into existential restrictions. Instead, the closure of role inclusions is computed separately and used in the premises of rules R3-R6. This strategy appears to be more efficient in situations when the number of role inclusions is small in comparison to the number of existential restrictions (which is mostly the case), and could explain the test results.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_2", "tab_5", "tab_5", "tab_7", "tab_5", "tab_2"]}, {"heading": "", "text": "v.0.9.3, 7  and the completion-based reasoner CEL v.1.0b. 8  We ran the experiments on a PC with a 2GHz Intel Core TM Duo processor and 1.5GB RAM operated by Linux v.2.6.27 with Java VM v.1.6.0. We set time out of 3600 seconds and Java heap space of 1GB for Java-based reasoners.\nWe tested the classification of seven medical ontologies of various sizes and complexities. The Gene Ontology (GO) 9   and National Cancer Institute thesaurus (NCI) 10 are fairly big ontologies describing respectively 20465 and 27652 classes, but with a rather shallow structure inducing not many dependencies. We have considered four versions of Galen. GalenA with 2748 classes is based on an early version of Galen. GalenB with 23136 classes is based on a more recent version of Galen. 11 GalenA \u2212 and GalenB \u2212 are obtained from GalenA and GalenB by removing functionality and inverses. We have also included the results for a very large but simple ontology Snomed, which contains 389472 classes.", "publication_ref": [], "figure_ref": [], "table_ref": []}], "references": [{"ref_id": "b0", "title": "Ullrich Hustadt, Boris Motik, and Ulrike Sattler. Reasoning in description logics by a reduction to disjunctive datalog", "journal": "Springer", "year": "2000", "authors": "[ References;  Baader"}], "figures": [{"figure_label": "", "figure_type": "figure", "figure_id": "fig_0", "figure_caption": "C occurs positively (negatively) in \u00acC \u2212 , C + D + , C + D + , \u2203R.C + , \u2200R.C + , nS.C + , mS.C \u2212 , and C \u2212 D + if C occurs positively (negatively) in C + or in D + , or negatively (positively) in C \u2212 (when applicable).", "figure_data": ""}, {"figure_label": "1", "figure_type": "figure", "figure_id": "fig_1", "figure_caption": "Proposition 11Let O be obtained from O by structural transformation. Then for every axiom \u03b1 containing no introduced atomic concepts A C , we have O |= \u03b1 iff O |= \u03b1.", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_2", "figure_caption": "Proof.By applying structural transformation to O, we obtain an ontology O containing only concept inclusions of the form A 1 A 2 , A st(C + ), and st(C \u2212 ) A, where C + occurs positively in O and C \u2212 occurs negatively in O. Since O is a Horn SHIQ ontology, C + can only be of the form , \u22a5, A, \u00acC, C D, \u2203R.C, \u2200R.C, nS.C, or 1S.C, and C \u2212 only of the form , \u22a5, A, C D, C D, \u2203R.C, or 1R.C.", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_3", "figure_caption": "The roles are interpreted with smallest relations satisfying all role inclusions such that if M \u2203R.N \u2208 O and M \u2203R.N / \u2208 O for every super-conjunct N of N , then for every w \u2208 \u03a3 * , either wM, w \u2208 R I and w \u2208 A I for every A \u2208 N , or otherwise wM, wM N \u2208 R I .", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_4", "figure_caption": "we demonstrate that I is a model of O (and consequently of O ). Claim 1 wM \u2208 \u03a3 + and M C \u2208 O imply wM \u2208 C I . \u2022 For C = \u22a5, if M \u22a5 \u2208 O then wM \u2208 \u03a3 + . \u2022 For C = A the claim follows from the definition of A I . \u2022 For C = \u2203R.B, take M \u2203R.N \u2208 O with the largest N containing B (it exists since M \u2203R.B \u2208 O ). By definition of R I , we have wM \u2208 (\u2203R.N ) I \u2286 C I . \u2022 For C = \u2200R.B, we show that: (i) wM, wM N \u2208 R I implies wM N \u2208 B I , and (ii) wN M, wN \u2208 R I implies wN \u2208 B I . In case (i) there is M \u2203R 1 .N \u2208 O with R 1 O R. Since M C \u2208 O and O is closed under R3, we have N = N B (since N is a maximal conjunction), and so, wM N \u2208 B I . In case (ii), there is N \u2203R 1 .M \u2208 O with R 1 O R \u2212 . Since M C \u2208 O and O is closed under R4, we have N B \u2208 O , and so, wN \u2208 B I . \u2022 For C = 1S.B, we show that: (i) wM, wM N i \u2208 S I and wM N i \u2208 B I for i = 1, 2 implies N 1 = N 2 , and (ii) wN M, wN \u2208 S I , and wN \u2208 B I implies wN M, wN M N 1 / \u2208 S I whenever wNMN 1 \u2208 B I . In case (i) we have M \u2203R i .N i \u2208 O where R i O S and", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_5", "figure_caption": "2 . In case (ii), we have N \u2203R.M \u2208 O , R O S \u2212 , and N B \u2208 O . Assume to the contrary that wN M, wN M N 1 \u2208 S I and wNMN 1 \u2208 B I . Then wN M, wN M N 1 \u2208 R I 1 for some R 1 O S such that M \u2203R 1 .N 1 \u2208 O , and wNMN 1 B \u2208 O . Since O is closed under R6, we have N \u2203R \u2212 1 .M \u2208 O and N A \u2208 O for every conjunct A in N 1 . Hence M \u2203R 1 .N 1 is already satisfied in wN M by its predecessor wN , and so the relation wN M, wN M N 1 \u2208 R I 1 should not have been created. Now for every axiom A i C of form (n1) in O, if wM \u2208 A I i then M A i \u2208 O , and so, M C \u2208 O by R1. By Claim 1 we then have wM \u2208 C I . Thus, I satisfies every axiom A i C in O of form (n1). The definition of the interpretation of roles in I ensures that every role inclusion of form (n2) is also satisfied in I. Hence, I is a model of O. Now we can finish the proof for the \"only if\" directions of points (i) and (ii). For proving (i), if O |= M B and M \u22a5 / \u2208 O then for every wM \u2208 \u03a3 + , we have wM \u2208 B I since I is a model of O. Hence M B \u2208 O by definition of I. For proving (ii), if O |= M \u2203R.N and M \u22a5 / \u2208 O , then for M \u2208 \u03a3 + , we have M \u2208 (\u2203R.N ) I . Since M \u2208 \u03a3 + does not have a predecessor in \u03a3 + , there exists M \u2203R 1 .N 1 \u2208 O such that R 1 O R and MN 1 \u2208 B I for every conjunct B in N . By definition of I, this implies that N 1 B \u2208 O for every conjunct B in N .", "figure_data": ""}, {"figure_label": "1", "figure_type": "table", "figure_id": "tab_0", "figure_caption": "", "figure_data": ""}, {"figure_label": "", "figure_type": "table", "figure_id": "tab_1", "figure_caption": "I \u00d7 \u0394 I , U \u2286 \u0394 I , and x \u2208 \u0394 I denotes the set {y | x, y \u2208 \u03c1 \u2227 y \u2208 U }, and ||V || denotes the cardinality of a set V \u2286 \u0394 I . An interpretation I satisfies an axiom \u03b1 (written I |= \u03b1) if the respective condition to the right of the axiom in Table 1 holds; I is a model of an ontology O (written I |= O) if I satisfies every axiom in O. We say that \u03b1 is a (logical) consequence of O, or is entailed by O (written", "figure_data": ", where \u03c1(x, U ) for\u03c1 \u2208 \u0394"}, {"figure_label": "2", "figure_type": "table", "figure_id": "tab_2", "figure_caption": "The Completion Rules for ELH and C are atomic concepts or , and r, s atomic roles. Axioms A B C of form (3) are then replaced with a pair of axioms A B and A C of form (1).The completion rules in Table2derive new axioms of the form A B and C \u2203r.D from axioms in O and other axioms of these forms already derived, where A, B, C, and D are atomic concepts or , and r, s atomic roles.2  In[Baader et al., 2005] it was shown that the rules IR1-CR5 are complete for classification, that is, a concept subsumption A B is entailed by O if and only if it is derivable by these rules.", "figure_data": "obtained from the input ontology by structural transformationand simplification. Structural transformation for ELH pro-duces only axioms of the form (1) A B, (2) A B C,(3) A B C, (4) A \u2203r.B, (5) \u2203r.A B, and (6) r s,where A, B,"}, {"figure_label": "3", "figure_type": "table", "figure_id": "tab_5", "figure_caption": "Saturation Rules for Horn SHIQ Ontologies", "figure_data": ""}, {"figure_label": "", "figure_type": "table", "figure_id": "tab_6", "figure_caption": "for Horn SHIF ontologies, which are sufficient for Galen. We compared the results with the modelbuilding reasoners FaCT++ v.1.2.1, 5 Pellet v.1.5,6  and HermiT", "figure_data": "FaCT++ Pellet HermiTCELCBGO15.24 72.02 199.521.84 1.17NCI6.05 26.47 169.475.76 3.57GalenA \u2212 3166.74 133.2591.983.27 0.26GalenA465.35-45.72n/a 0.32GalenB \u2212---189.12 4.07GalenB---n/a 9.58Snomed650.37--1185.70 49.44"}, {"figure_label": "4", "figure_type": "table", "figure_id": "tab_7", "figure_caption": "A comparison of classification times (in seconds):", "figure_data": ""}], "formulas": [{"formula_id": "formula_0", "formula_text": "A A I (given) top concept \u0394 I bottom concept \u22a5 \u2205 negation \u00acC \u0394 I \\ C I conjunction C D C I \u2229 D I disjunction C D C I \u222a D I existential restriction \u2203R.C {x | R I (x, C I ) = \u2205} universal restriction \u2200R.C {x | R I (x, \u0394 I \\ C I ) = \u2205} min cardinality nS.C {x | ||S I (x, C I )|| \u2265 n} max cardinality mS.C {x | ||S I (x, C I )|| \u2264 m} Axioms role inclusion R 1 R 2 R I 1 \u2286 R I 2 role transitivity Tra(R) R I \u2022 R I \u2286 R I concept inclusion C D C I \u2286 D I", "formula_coordinates": [2.0, 56.66, 80.23, 239.67, 164.4]}, {"formula_id": "formula_1", "formula_text": "1. A role R is transitive (in O) if Tra(R) \u2208 O or Tra(R \u2212 ) \u2208 O. Given an ontology O, let R 1 O R 2 be the smallest transitive reflexive relation between roles such that R 1 R 2 \u2208 O implies R 1 O R 2 and R \u2212 1 O R \u2212 2 .", "formula_coordinates": [2.0, 54.0, 316.74, 244.25, 55.34]}, {"formula_id": "formula_2", "formula_text": "O |= \u03b1) if every model of O satisfies \u03b1.", "formula_coordinates": [2.0, 54.0, 557.47, 159.44, 9.96]}, {"formula_id": "formula_3", "formula_text": "\u2022", "formula_coordinates": [2.0, 63.96, 661.65, 4.98, 9.96]}, {"formula_id": "formula_4", "formula_text": "\u2022 st(A) = A, st( ) = , st(\u22a5) = \u22a5; \u2022 st(\u00acC) = \u00acA C ; \u2022 st(C D) = A C A D ; st(C D) = A C A D \u2022 st(\u2203R.C) = \u2203R.A C ; st(\u2200R.C) = \u2200R.A C ; \u2022 st( nR.C) = nR.A C ; st( mR.C) = mR.A C .", "formula_coordinates": [2.0, 324.96, 234.94, 228.18, 71.53]}, {"formula_id": "formula_5", "formula_text": "\u2022 A C st(C) for every C occurring positively in O \u2022 st(C) A C for every C occurring negatively in O \u2022 A C A D for every concept inclusion C D \u2208 O", "formula_coordinates": [2.0, 324.96, 347.54, 215.19, 40.94]}, {"formula_id": "formula_6", "formula_text": "C D or complex role inclusions of the form r 1 \u2022\u2022 \u2022 \u2022\u2022r n s. The last are interpreted in I as r I 1 \u2022 \u2022 \u2022 \u2022 \u2022 r I n \u2286 s I ,", "formula_coordinates": [2.0, 314.69, 541.02, 245.05, 22.65]}, {"formula_id": "formula_7", "formula_text": "IR1 A A IR2 A CR1 A B B C \u2208 O A C CR2 A B A C B C D \u2208 O A D CR3 A B B \u2203r.C \u2208 O A \u2203r.C CR4 A \u2203r.B r s \u2208 O A \u2203s.B CR5 A \u2203r.B B C \u2203r.C D \u2208 O A D", "formula_coordinates": [3.0, 92.59, 56.44, 170.34, 153.46]}, {"formula_id": "formula_8", "formula_text": "A \u2200R.B \u21d4 \u2203R \u2212 .A B (1)", "formula_coordinates": [3.0, 99.71, 632.84, 197.29, 11.84]}, {"formula_id": "formula_9", "formula_text": "A \u2203R.B B \u2200R \u2212 .D A D (2)", "formula_coordinates": [3.0, 377.89, 114.9, 180.11, 24.91]}, {"formula_id": "formula_10", "formula_text": "A \u2203R.B C \u2200R.D A C \u2203R.(B D) (3)", "formula_coordinates": [3.0, 381.37, 169.35, 176.63, 23.54]}, {"formula_id": "formula_11", "formula_text": "A \u2203S.B C \u2203S.D A 1S. A C \u2203S.(B D) (4) A \u2203S.B B \u2203S \u2212 .C B 1S \u2212 . A C (5)", "formula_coordinates": [3.0, 340.51, 377.1, 217.49, 53.76]}, {"formula_id": "formula_12", "formula_text": "A st(\u00acC)=\u00acA C \u21d2 A A C \u22a5; \u2022 A st( nS.C) = nS.A C \u21d2 A \u2203S.B i , B i A C , 1 \u2264 i \u2264 n, B i B j \u22a5, 1 \u2264 i < j \u2264 n,", "formula_coordinates": [4.0, 63.96, 158.4, 234.28, 36.26]}, {"formula_id": "formula_13", "formula_text": "st(C D)=A C A D A \u21d2 A C A, A D A; \u2022 st(\u2203R.C)=\u2203R.A C A \u21d2 A C \u2200R \u2212 .A; \u2022 st( 1S.C)= 1S.A C A \u21d2 A C \u2200S \u2212 .A.", "formula_coordinates": [4.0, 63.96, 234.35, 226.25, 40.26]}, {"formula_id": "formula_14", "formula_text": "A i \u2200T.B T B T \u2200T.B T B T B (6)", "formula_coordinates": [4.0, 87.59, 402.59, 209.41, 11.61]}, {"formula_id": "formula_15", "formula_text": "(i) O |= M B iff M \u22a5 \u2208 O or M B \u2208 O , and (ii) O |= M \u2203R.N iff M \u22a5 \u2208 O or there exists M \u2203R 1 .N 1 \u2208 O such that R 1 O R and N 1 B \u2208 O for every conjunct B in N .", "formula_coordinates": [4.0, 315.0, 683.57, 243.01, 20.92]}, {"formula_id": "formula_16", "formula_text": "A I = {wM | M A \u2208 O , w \u2208 \u03a3 * } \u2022", "formula_coordinates": [5.0, 63.96, 219.29, 164.72, 26.19]}, {"formula_id": "formula_17", "formula_text": "N . Rule R3 ensures that N is not contradictory if M is not. Note that wM, wM N \u2208 R I implies M \u2203R 1 .N \u2208 O for some R 1 O R. Below", "formula_coordinates": [5.0, 54.0, 371.21, 243.0, 32.26]}, {"formula_id": "formula_18", "formula_text": "N i B \u2208 O , i = 1, 2. Since O is closed un- der R5, we have M \u2203R i .(N 1 N 2 ) \u2208 O , i = 1, 2. Since each N i is maximal for M and R i , i = 1, 2, we have N 1 = N 1 N 2 = N", "formula_coordinates": [5.0, 73.92, 56.49, 386.84, 648.75]}], "doi": ""}