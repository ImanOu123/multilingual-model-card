{"title": "\"cba to check the spelling\" Investigating Parser Performance on Discussion Forum Posts", "authors": "Jennifer Foster", "pub_date": "", "abstract": "We evaluate the Berkeley parser on text from an online discussion forum. We evaluate the parser output with and without gold tokens and spellings (using Sparseval and Parseval), and we compile a list of problematic phenomena for this domain. The Parseval f-score for a small development set is 77.56. This increases to 80.27 when we apply a set of simple transformations to the input sentences and to the Wall Street Journal (WSJ) training sections.", "sections": [{"heading": "Introduction", "text": "Parsing techniques have recently become efficient enough for parsers to be used as part of a pipeline in a variety of tasks. Another recent development is the rise of user-generated content in the form of blogs, wikis and discussion forums. Thus, it is both interesting and necessary to investigate the performance of NLP tools trained on edited text when applied to unedited Web 2.0 text. McClosky et al. (2006) report a Parseval f-score decrease of 5% when a WSJtrained parser is applied to Brown corpus sentences. In this paper, we move even further from the WSJ by investigating the performance of the Berkeley parser (Petrov et al., 2006) on user-generated content.\nWe create gold standard phrase structure trees for the posts on two threads of the same online discussion forum. We then parse the sentences in one thread, our development set, with the Berkeley parser under three conditions: 1) when it performs its own tokenisation, 2) when it is provided with gold tokens and 3) when misspellings in the input have been corrected. A qualitative evaluation is then carried out on parser output under the third condition. Based on this evaluation, we identify some \"low-hanging fruit\" which we attempt to handle either by transforming the input sentence or by transforming the WSJ training material. The success of these transformations is evaluated on our development and test sets, with encouraging results.", "publication_ref": ["b4", "b6"], "figure_ref": [], "table_ref": []}, {"heading": "Parser Evaluation Experiments", "text": "Data Our data consists of sentences that occur on the BBC Sport 606 Football discussion forum. The posts on this forum are quite varied, ranging from throwaway comments to more considered essay-like contributions. The development set consists of 42 posts (185 sentences) on a thread discussing a controversial refereeing decision in a soccer match. 1 The test set is made up of 40 posts (170 sentences) on a thread discussing a player's behaviour in the same match. 2 The average sentence length in the development set is 18 words and the test set 15 words. Tokenisation and spelling correction were carried out by hand on the sentences in both sets. 3 They were then parsed using Bikel's parser (Bikel, 2004) and corrected by hand using the Penn Treebank Bracketing Guidelines (Bies et al., 1995).\nParser The Berkeley parser is an unlexicalised phrase structure parser which learns a latent variable PCFG by iteratively splitting the treebank non-terminals, estimating rule probabilities for the new grammar using EM and merging the less useful splits. We train a PCFG from WSJ2-21 by carrying out five cycles of the split-merge process (SM5).", "publication_ref": ["b2", "b1"], "figure_ref": [], "table_ref": []}, {"heading": "Tokenisation and Spelling Effects", "text": "In the first experiment, the parser is given the original development set sentences which contain spelling mistakes and which have not been tokenised. We ask the parser to perform its own tokenisation. In the second experiment, the parser is given the handtokenised sentences which still contain spelling mistakes. These are corrected for the third experiment.\nSince the yields of the parser output and gold trees are not guaranteed to match exactly, we cannot use the evalb implementation of the Parseval evaluation metrics. Instead we use Sparseval (Roark et al., 2006), which was designed to be used to evaluate the parsing of spoken data and can handle this situation. An unaligned dependency evaluation is carried out: head-finding rules are used to convert a phrase structure tree into a dependency graph. Precision and recall are calculated over the dependencies The Sparseval results are shown in Table 1. For the purposes of comparison, the WSJ23 performance is displayed in the top row. We can see that performance suffers when the parser performs its own tokenisation. A reason for this is the under-use of apostrophes in the forum data, with the result that words such as didnt and im remain untokenised and are tagged by the parser as common nouns:", "publication_ref": ["b7"], "figure_ref": [], "table_ref": ["tab_1"]}, {"heading": "(NP (NP (DT the) (NNS refs)) (SBAR (S (NP (NN didnt)) (VP want to make it to obvious))))", "text": "To properly see the effect of the 39 spelling errors on parsing accuracy, we factor out the mismatches between the correctly spelled words in the reference set and their incorrectly spelled equivalents. We do this by evaluating against a version of the gold standard which contains the original misspellings (third row). We can see that the effect of spelling errors is quite small. The Berkeley parser's mechanism for handling unknown words makes use of suffix information and it is able to ignore many of the content word spelling errors. It is the errors in function words that appear to cause a greater problem:   Gold Tokens and Spelling Leaving aside the problems of automatic tokenisation and spelling correction, we focus on the results of the third experiment. The Parseval results are given in Table 2. Note that the performance degradation is quite large, more than has been reported for the Charniak parser on the Brown corpus. We examine the parser output for each sentence in the development set. The phenomena which lead the parser astray are listed in Table 3. One problem is coordination which is difficult for parsers on in-domain data but which is exacerbated here by the omission of conjunctions, the use of a comma as a conjunction and the tendency towards unlike constituent coordination.", "publication_ref": [], "figure_ref": [], "table_ref": ["tab_2"]}, {"heading": "Parser Comparison", "text": "We test the lexicalised Charniak parser plus reranker (Charniak and Johnson, 2005) on the development set sentences. We also test the Berkeley parser with an SM6 grammar. The f-scores are shown in Table 4. The parser achieving the highest score on WSJ23, namely, the C&J reranking parser, also achieves the highest score on our development set. The difference between the two Berkeley grammars supports the claim that an SM6 grammar overfits to the WSJ (Petrov and Klein, 2007). However, the differences between the four parser/grammar configurations are small.   Table 3: Phenomena which lead the parser astray. The output of the parser is given for each example.", "publication_ref": ["b3", "b5"], "figure_ref": [], "table_ref": ["tab_4"]}, {"heading": "Initial Improvements", "text": "Parsing performance on noisy data can be improved by transforming the input data so that it resembles the parser's training data (Aw et al., 2006), transforming the training data so that it resembles the input data (van der Plas et al., 2009), applying semisupervised techniques such as the self-training protocol used by McClosky et al. (2006), and changing the parser internals, e.g. adapting the parser's unknown word model to take into account variation in capitalisation and function word misspelling. 4 We focus on the first two approaches and attempt to transform both the input data and the WSJ training material. The transformations that we experiment with are shown in Table 5. The treebank transformations are performed in such a way that their frequency distribution mirrors their distribution in the development data. We remove discourse-marking acronyms such as lol 5 from the input sentence, but do not attempt to handle acronyms which are integrated into the sentence. 6 We examine the effect of each transformation on development set parsing performance and discard those which do not improve performance. We keep all the input sentence transformations and those treebank transformations which affect lexical rules, i.e. changing the endings on adverbs and changing the first character of proper nouns. The treebank transformations which delete subject pronouns and coordinating conjunctions are not as effective. They work in individual cases, e.g. the original analysis of the sentence Will be here all day is (S (NP (NNP Will)) (VP be here all day) (. .))\nAfter applying the treebank transformation, it is (S (VP (MD Will) (VP be here all day)) (. .))\nTheir overall effect is, however, negative. It is likely that, for complex phenomena such as coordination and subject ellipsis, the development set is still too small to inform how much of and in what way the original treebank should be transformed. The results of applying the effective transformations to the development set and the test set are shown in Table 6. times in our data, they are problematic for the parser. 6 An example is: your loss to Wigan would be more scrutunized (cba to check spelling) than it has been this year   The recall and precision improvements on the development set are statistically significant (p < 0.02), as is the recall improvement on the test set (p < 0.05).", "publication_ref": ["b0", "b9", "b4"], "figure_ref": [], "table_ref": ["tab_5", "tab_6"]}, {"heading": "Conclusion", "text": "Ongoing research on the problem of parsing unedited informal text has been presented. At the moment, because of the small size of the data sets and the variety of writing styles in the development set, only tentative conclusions can be drawn. However, even this small data set reveals clear problems for WSJ-trained parsers: the handling of long coordinated sentences (particularly in the presence of erratic punctuation usage), domain-specific fixed expressions and unknown words. We have presented some preliminary experimental results using simple transformations to both the input sentence and the parser's training material. Treebank transformations need to be more thoroughly explored with use made of the Switchboard corpus as well as the WSJ.", "publication_ref": [], "figure_ref": [], "table_ref": []}, {"heading": "Acknowledgments", "text": "Thanks to the reviewers and to Emmet\u00d3 Briain, Deirdre Hogan, Adam Bermingham, Joel Tetreault.", "publication_ref": [], "figure_ref": [], "table_ref": []}], "references": [{"ref_id": "b0", "title": "A phrase-based statistical model for SMS text normalisation", "journal": "", "year": "2006", "authors": "Aiti Aw; Min Zhang; Juan Xiao; Jian Su"}, {"ref_id": "b1", "title": "Bracketing guidelines for Treebank II style, Penn Treebank Project", "journal": "", "year": "1995", "authors": "Ann Bies; Mark Ferguson; Karen Katz; Robert Mac-Intyre"}, {"ref_id": "b2", "title": "Intricacies of Collins Parsing Model", "journal": "Computational Linguistics", "year": "2004", "authors": "Daniel Bikel"}, {"ref_id": "b3", "title": "Course-tofine n-best-parsing and maxent discriminative reranking", "journal": "", "year": "2005", "authors": "Eugene Charniak; Mark Johnson"}, {"ref_id": "b4", "title": "Reranking and self-training for parser adaptation", "journal": "", "year": "2006", "authors": "David Mcclosky; Eugene Charniak; Mark Johnson"}, {"ref_id": "b5", "title": "Improved inference for unlexicalized parsing", "journal": "", "year": "2007", "authors": "Slav Petrov; Dan Klein"}, {"ref_id": "b6", "title": "Learning accurate, compact and interpretable tree annotation", "journal": "", "year": "2006", "authors": "Slav Petrov; Leon Barrett; Romain Thibaux; Dan Klein"}, {"ref_id": "b7", "title": "SParseval: Evaluation metrics for parsing speech", "journal": "", "year": "2006", "authors": "Brian Roark; Mary Harper; Eugene Charniak; Bonnie Dorr; Mark Johnson; Jeremy G Kahn; Yang Liu; Mari Ostendorf; John Hale"}, {"ref_id": "b8", "title": "Linguistic ruin? LOL! Instant messaging and teen language", "journal": "American Speech", "year": "2008", "authors": "A Sali; Derek Tagliamonte;  Dennis"}, {"ref_id": "b9", "title": "Domain adaptation with artificial data for semantic parsing of speech", "journal": "Short Papers", "year": "2009", "authors": "James Lonneke Van Der Plas; Paola Henderson;  Merlo"}], "figures": [{"figure_label": "", "figure_type": "figure", "figure_id": "fig_0", "figure_caption": "VP (VBG playing) (ADJP (JJ bad))))) CAPS LOCK IS ON YOU GOT BEATEN BY THE BETTER TEAM (S (NP (PRP YOU)) (VP (VBP GOT) (NP (NNP BEATEN) (NNP BY) (NNP THE) (NNP BETTER) (NNP TEAM)))) cos instead of because or it was cos you lost (VP (VBD was) (ADJP (NN cos) (SBAR (S (NP (PRP you)) (VP (VBD lost))))))", "figure_data": ""}, {"figure_label": "", "figure_type": "figure", "figure_id": "fig_1", "figure_caption": "Sentences consisting of all uppercase characters converted to standard capitalisation DEAL WITH IT \u2192 Deal with it Remove certain acronyms lol \u2192 Treebank Delete subject noun phrases when the subject is a pronoun (S (NP (PRP It)) (VP (VBD arrived)... \u2212\u2192 (S (VP (VBD arrived)... Delete or replace conjunctions with a comma (for sentence coordination) (S ...) (CC and) (S ...) \u2212\u2192 (S ...) (, ,) (S ...) OR (S ...) (CC and) (S ...) \u2212\u2192 (S ...) (S ...) Delete ly from adverbs (VP (VBD arrived) (ADVP (RB quickly))) \u2212\u2192 (VP (VBD arrived) (ADVP (RB quick))) Replace uppercase first character in proper nouns (NP (NP (NNP Warner) (POS 's)) (NN price)) \u2212\u2192 (NP (NP (NNP warner) (POS 's)) (NN price))", "figure_data": ""}, {"figure_label": "", "figure_type": "table", "figure_id": "tab_0", "figure_caption": "88.66 88.66 Football 68.49 70.74 69.60 Football Gold Tokens 71.54 73.25 72.39 Ft Gold Tok (misspelled gold) 73.49 75.25 74.36 Football Gold Tokens+Spell 73.94 75.59 74.76", "figure_data": "Test SetRPFWSJ 2388.66(NP (DT the) (JJ zealous) (NNS fans) (NN whpo) (NNcare) (JJR more) )"}, {"figure_label": "1", "figure_type": "table", "figure_id": "tab_1", "figure_caption": "Sparseval scores for Berkeley SM5", "figure_data": "Test SetRPFWSJ 2388.88 89.46 89.17Football Gold Tokens+Spell 78.15 76.97 77.56"}, {"figure_label": "2", "figure_type": "table", "figure_id": "tab_2", "figure_caption": "Parseval scores for Berkeley SM5", "figure_data": ""}, {"figure_label": "4", "figure_type": "table", "figure_id": "tab_4", "figure_caption": "Cross-parser and cross-grammar comparison   ", "figure_data": "Problematic PhenomenaExamplesIdioms/Fixed ExpressionsSpot on (S (VP (VB Spot) (PP (IN on))) (. .))lmao(S (NP (PRP you))Acronyms(VP (VBZ have) (RB n't) (VP (VBN done)(NP (ADVP (RB that) (RB once)) (DT this) (NN season))(NP (NN lmao)))))Does n't change the result thoughMissing subject(SQ (VBZ Does) (RB n't) (NP (NN change))(NP (DT the) (NN result)) (ADVP (RB though)) (. !))Lowercase proper nounspaul scholes (NP (JJ paul) (NNS scholes))Very even game and it's sad that...Coordination(S (ADVP (RB Very)) (NP (NP (JJ even) (NN game)) (CC and) (NP (PRP it)))(VP (VBZ 's) (ADJP (JJ sad)) (SBAR (IN that)..."}, {"figure_label": "5", "figure_type": "table", "figure_id": "tab_5", "figure_caption": "Input Sentence and Treebank Transformations", "figure_data": "ConfigurationRecall Precision F-ScoreBaseline Dev78.1576.9777.56Transformed Dev 80.8379.7380.27Baseline Test77.6179.1478.37Transformed Test 80.1079.7779.93"}, {"figure_label": "6", "figure_type": "table", "figure_id": "tab_6", "figure_caption": "Effect of transformations on dev and test set", "figure_data": ""}], "formulas": [], "doi": ""}